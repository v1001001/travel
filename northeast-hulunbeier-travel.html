<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‰∏úÂåó+Âëº‰º¶Ë¥ùÂ∞îÁ≤æÂçéÁéØÁ∫øËá™È©æÊ∏∏</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px 25px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            display: block;
        }

        .overview-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .route-map {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .route-map h3 {
            color: #2d3436;
            margin-bottom: 15px;
        }

        .route-points {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .route-point {
            background: #74b9ff;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .trip-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .day-title {
            font-size: 1.5rem;
            color: #2d3436;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #74b9ff;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .day-number {
            background: #74b9ff;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .route-info {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid #74b9ff;
        }

        .route-info h4 {
            color: #2d3436;
            margin-bottom: 8px;
        }

        .route-info p {
            color: #636e72;
            line-height: 1.6;
        }

        .attractions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .attraction-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #e9ecef;
        }

        .attraction-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .attraction-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        /* ‰∏âÂõæÊãºË¥¥Ê†∑ÂºèÔºåÈÅøÂÖçÂõæÁâáÈ£éÊ†ºÈáçÂ§ç */
        .photo-collage {
            display: grid;
            grid-template-columns: 2fr 1fr;
            grid-template-rows: 100px 100px;
            gap: 6px;
            height: 206px;
            padding: 3px;
            background: #f8f9fa;
        }

        .photo-collage img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 6px;
        }

        .photo-collage img.main {
            grid-row: 1 / span 2;
            grid-column: 1 / 2;
        }

        .photo-collage img.side {
            grid-column: 2 / 3;
        }

        .attraction-content {
            padding: 20px;
        }

        .attraction-title {
            font-size: 1.2rem;
            color: #2d3436;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .attraction-description {
            color: #636e72;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .attraction-details {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #74b9ff;
        }

        .highlights-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .highlights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .highlight-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }

        .highlight-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .tips-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .tips-list {
            list-style: none;
            padding: 0;
        }

        .tips-list li {
            padding: 10px 0;
            border-bottom: 1px solid #e9ecef;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .tips-list li:before {
            content: "üí°";
            font-size: 1.2rem;
        }

        .tips-list li:last-child {
            border-bottom: none;
        }

        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            .track-section>div>div {
                grid-template-columns: 1fr !important;
            }

            .track-section>div>div>div:first-child {
                order: 2;
            }

            .track-section>div>div>div:last-child {
                order: 1;
            }
        }

        .timeline-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #74b9ff;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding-left: 30px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: -8px;
            top: 5px;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: #74b9ff;
            border: 3px solid white;
        }

        .timeline-date {
            font-weight: bold;
            color: #74b9ff;
            margin-bottom: 5px;
        }

        .timeline-title {
            font-size: 1.1rem;
            color: #2d3436;
            margin-bottom: 5px;
        }

        .timeline-desc {
            color: #636e72;
            font-size: 0.9rem;
        }

        /* ËØ¶ÊÉÖ‰∏éËΩ®ËøπÊ†∑Âºè */
        .details-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .day-card {
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 14px;
        }

        .day-card h3 {
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #2d3436;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 12px 18px;
            margin-top: 10px;
        }

        .info-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 12px;
            font-size: 0.95rem;
            color: #2d3436;
        }

        .info-item b {
            color: #0984e3;
        }

        .cta-row {
            margin-top: 12px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .cta-btn {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: #fff;
            border: none;
            padding: 10px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .cta-btn.secondary {
            background: #f8f9fa;
            color: #0984e3;
            border: 1px solid #cde5ff;
        }

        .track-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .track-toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        #trackCanvas {
            width: 100%;
            height: 650px;
            background: #f8f9fa;
            border-radius: 10px;
        }

        #leafletMap,
        #routeMap {
            width: 100%;
            height: 650px;
            border-radius: 12px;
            margin-top: 12px;
            display: none;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 2rem;
            }

            .stats {
                flex-direction: column;
                gap: 15px;
            }

            .attractions-grid {
                grid-template-columns: 1fr;
            }

            .route-points {
                flex-direction: column;
                align-items: center;
            }
        }

        /* Â§©Ê∞îÂç°ÁâáÊÇ¨ÂÅúÊïàÊûú */
        .weather-card:hover {
            transform: scale(1.05) !important;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>‰∏úÂåó+Âëº‰º¶Ë¥ùÂ∞îÁ≤æÂçéÁéØÁ∫ø</h1>
            <p>Ê≤øG331ÂõΩÈÅìÁ©øË∂ä‰∏úÂåóËæπÂ¢ÉÔºåÊé¢ÁßòÂ§ßÂÖ¥ÂÆâÂ≤≠ÔºåÊÑüÂèóËçâÂéüÈ£éÊÉÖÔºå‰ΩìÈ™åÊúÄÁæéËæπÂ¢ÉÂÖ¨Ë∑ØÔºåÊÄªÈáåÁ®ã5000ÂÖ¨ÈáåÔºåÊ∂µÁõñ7Â§ßÊ†∏ÂøÉÂå∫Âüü</p>
            <div class="stats">
                <div class="stat-item">
                    <span class="stat-number">13</span>
                    <span>Ë°åÁ®ãÂ§©Êï∞</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">5000</span>
                    <span>ÊÄªÈáåÁ®ã(ÂÖ¨Èáå)</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">20+</span>
                    <span>‰∏ªË¶ÅÊôØÁÇπ</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">7</span>
                    <span>Ê†∏ÂøÉÂå∫Âüü</span>
                </div>
            </div>
        </div>

        <div class="overview-section">
            <h2 style="color: #2d3436; margin-bottom: 30px; text-align: center;">üó∫Ô∏è G331ËæπÂ¢ÉÂÖ¨Ë∑ØÁéØÁ∫øË∑ØÁ∫øÊ¶ÇËßàÔºàÈïøÊò•Âá∫ÂèëÔºåÈòøÂ∞îÂ±±Êî∂ÂÆòÔºâ</h2>
            <div class="route-map">
                <h3>ÈïøÊò• ‚Üí ÈïøÁôΩÂ±± ‚Üí Áè≤Êò• ‚Üí ËôéÊûó ‚Üí È•∂Ê≤≥ ‚Üí ÊäöËøú ‚Üí ÂêåÊ±ü ‚Üí ÈªëÊ≤≥ ‚Üí ‰∫îÂ§ßËøûÊ±† ‚Üí Êº†Ê≤≥ ‚Üí Ê†πÊ≤≥ ‚Üí È¢ùÂ∞îÂè§Á∫≥ ‚Üí Êµ∑ÊãâÂ∞î ‚Üí ÈòøÂ∞îÂ±±</h3>
                <div class="route-points">
                    <div class="route-point">ÈïøÊò•</div>
                    <div class="route-point">ÈïøÁôΩÂ±±</div>
                    <div class="route-point">Áè≤Êò•</div>
                    <div class="route-point">ËôéÊûó</div>
                    <div class="route-point">È•∂Ê≤≥</div>
                    <div class="route-point">ÊäöËøú</div>
                    <div class="route-point">ÂêåÊ±ü</div>
                    <div class="route-point">ÈªëÊ≤≥</div>
                    <div class="route-point">‰∫îÂ§ßËøûÊ±†</div>
                    <div class="route-point">Êº†Ê≤≥</div>
                    <div class="route-point">Ê†πÊ≤≥</div>
                    <div class="route-point">È¢ùÂ∞îÂè§Á∫≥</div>
                    <div class="route-point">Êµ∑ÊãâÂ∞î</div>
                    <div class="route-point">ÈòøÂ∞îÂ±±</div>
                </div>
            </div>
        </div>

        <div class="timeline-section">
            <h2 style="color: #2d3436; margin-bottom: 30px; text-align: center;">üìÖ ËØ¶ÁªÜË°åÁ®ãÊó∂Èó¥Á∫øÔºà13Â§©G331ËæπÂ¢ÉÂÖ¨Ë∑ØÁéØÁ∫øÔºâ</h2>

            <!-- ÂéªÁ®ã‰∫§ÈÄöÂª∫ËÆÆ -->
            <div class="departure-tip"
                style="margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%); border-left: 4px solid #ffc107; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span style="font-size: 18px; margin-right: 8px;">üöó</span>
                    <h4 style="margin: 0; color: #856404; font-weight: 600;">ÂéªÁ®ã‰∫§ÈÄöÂª∫ËÆÆ</h4>
                </div>
                <p style="margin: 0; color: #856404; line-height: 1.6; font-size: 14px;">
                    <strong>ÂΩìÂâçÊñπÊ°àÔºö</strong>ÈïøÊò•ÈõÜÂêàÂá∫ÂèëÔºà‰∫§ÈÄö‰æøÂà©ÔºåÁßüËΩ¶Êñπ‰æøÔºâ<br>
                    <strong>Â§áÈÄâÊñπÊ°àÔºö</strong>Ëá™È©æÂèØËÄÉËôë‰ªé‰∏π‰∏úÂá∫ÂèëÔºåÊ≤øG331ÁªèÈõÜÂÆâÂ∏ÇÊäµËææÁôΩÂ±±Â∏ÇÔºàÂÆåÊï¥G331‰ΩìÈ™åÔºåÂê´È∏≠ÁªøÊ±üÈ£éÂÖâ„ÄÅÈ´òÂè•‰∏ΩÈÅóÂùÄÔºâ
                </p>
            </div>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨0Â§© (9Êúà24Êó•)</div>
                    <div class="timeline-title">ÂêÑÂú∞ ‚Üí ÈïøÊò•ÈõÜÂêà</div>
                    <div class="timeline-desc">ÊäµËææÈïøÊò•ÔºåÂèñËΩ¶Ê£ÄËΩ¶ÔºåË°åÁ®ãÂáÜÂ§á</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨1-2Â§© (9Êúà25-26Êó•)</div>
                    <div class="timeline-title">ÈïøÊò• ‚Üí ÈïøÁôΩÂ±±</div>
                    <div class="timeline-desc">ÈïøÁôΩÂ±±Â§©Ê±†„ÄÅÁÄëÂ∏É„ÄÅÊ∏©Ê≥âÁæ§</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨3-4Â§© (9Êúà27-28Êó•)</div>
                    <div class="timeline-title">ÈïøÁôΩÂ±± ‚Üí Áè≤Êò• ‚Üí ËôéÊûó</div>
                    <div class="timeline-desc">‰∏âÂõΩ‰∫§Áïå„ÄÅËæπÂ¢ÉÂè£Â≤∏„ÄÅÁèçÂÆùÂ≤õÈ£éÂÖâ</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨5-6Â§© (9Êúà29-30Êó•)</div>
                    <div class="timeline-title">ËôéÊûó ‚Üí È•∂Ê≤≥ ‚Üí ÊäöËøú</div>
                    <div class="timeline-desc">‰πåËãèÈáåÊ±ü„ÄÅ‰∏úÊûÅÂπøÂú∫„ÄÅÈªëÁûéÂ≠êÂ≤õÈ£éÂÖâ</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨7-8Â§© (10Êúà1-2Êó•)</div>
                    <div class="timeline-title">ÊäöËøú ‚Üí ÂêåÊ±ü ‚Üí ÈªëÊ≤≥</div>
                    <div class="timeline-desc">‰∏âÊ±üÂè£„ÄÅËµ´Âì≤ÊóèÊñáÂåñ„ÄÅÁïåÊ±üÈ£éÂÖâ</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨9-10Â§© (10Êúà3-4Êó•)</div>
                    <div class="timeline-title">ÈªëÊ≤≥ ‚Üí ‰∫îÂ§ßËøûÊ±†</div>
                    <div class="timeline-desc">ÁÅ´Â±±Âú∞Ë≤å„ÄÅÊ∏©Ê≥â‰ΩìÈ™å„ÄÅÂú∞Ë¥®Â•áËßÇ</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨11-12Â§© (10Êúà5-6Êó•)</div>
                    <div class="timeline-title">‰∫îÂ§ßËøûÊ±† ‚Üí Êº†Ê≤≥ ‚Üí Ê†πÊ≤≥</div>
                    <div class="timeline-desc">ËæπÂ¢ÉÈ£éÂÖâ„ÄÅÂ§ßÂÖ¥ÂÆâÂ≤≠„ÄÅÊúÄÂåóÂú∞Ê†á„ÄÅÁôΩÊ°¶Êûó</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨13Â§© (10Êúà7Êó•)</div>
                    <div class="timeline-title">Ê†πÊ≤≥ ‚Üí È¢ùÂ∞îÂè§Á∫≥ ‚Üí Êµ∑ÊãâÂ∞î ‚Üí ÈòøÂ∞îÂ±±</div>
                    <div class="timeline-desc">ÊπøÂú∞È£éÂÖâ„ÄÅËçâÂéüÈ£éÊÉÖ„ÄÅÈòøÂ∞îÂ±±Â§©Ê±†ÔºàÊî∂ÂÆòÔºâ</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Á¨¨14Â§© (10Êúà8Êó•)</div>
                    <div class="timeline-title">ÈòøÂ∞îÂ±± ‚Üí ÂêÑÂú∞ËøîÁ®ã</div>
                    <div class="timeline-desc">ÁªìÊùüÁ≤æÂΩ©ÊóÖÁ®ãÔºåÂêÑËá™ËøîÁ®ã</div>
                </div>
            </div>

            <!-- ËøîÁ®ã‰∫§ÈÄöÂª∫ËÆÆ -->
            <div class="return-tip"
                style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-left: 4px solid #007bff; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                    <span style="font-size: 18px; margin-right: 8px;">üí°</span>
                    <h4 style="margin: 0; color: #495057; font-weight: 600;">ËøîÁ®ã‰∫§ÈÄöÂª∫ËÆÆ</h4>
                </div>
                <p style="margin: 0; color: #6c757d; line-height: 1.6; font-size: 14px;">
                    <strong>ÂΩìÂâçÊñπÊ°àÔºö</strong>ÈòøÂ∞îÂ±±Áõ¥Êé•ËøîÁ®ãÔºàÈúÄ‰∏≠ËΩ¨ÔºåËà™Áè≠ÈÄâÊã©Â∞ëÔºâ<br>
                    <strong>Êé®ËçêÊñπÊ°àÔºö</strong>Á¨¨13Â§©ËøîÂõûÊµ∑ÊãâÂ∞îÂÜçËøîÁ®ãÔºà270ÂÖ¨ÈáåÔºå4Â∞èÊó∂ËΩ¶Á®ãÔºåÊúâÁõ¥È£û‰∏äÊµ∑Ëà™Áè≠ÔºåÊõ¥‰æøÂà©Ôºâ
                </p>
            </div>
        </div>

        <div class="trip-section">
            <h2 style="color: #2d3436; margin-bottom: 30px; text-align: center;">üèîÔ∏è 7Â§ßÊ†∏ÂøÉÂå∫ÂüüËØ¶Ëß£</h2>

            <!-- 1. ÈïøÁôΩÂ±±Âå∫Âüü -->
            <div class="day-title">
                <div class="day-number">1</div>
                <span>ÈïøÁôΩÂ±±Âå∫Âüü</span>
            </div>
            <div class="route-info">
                <h4>üèîÔ∏è Âå∫ÂüüÁâπËâ≤</h4>
                <p>ÁßãÂ≠£ÁöÑÈïøÁôΩÂ±±Ëâ≤ÂΩ©ÊñëÊñìÔºåÂ§©Ê±†„ÄÅÁÄëÂ∏É„ÄÅÊ∏©Ê≥âÊûÑÊàêÁªùÁæéÁîªÂç∑„ÄÇÂª∫ËÆÆÊ∏∏ËßàÂåóÂù°ÂíåË•øÂù°Ôºå‰ΩìÈ™å‰∏çÂêåÁöÑËßÜËßí„ÄÇ</p>
            </div>
            <div class="attractions-grid">
                <div class="attraction-card">
                    <img src="images/changbai-tianchi.png" alt="ÈïøÁôΩÂ±±Â§©Ê±†" class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">ÈïøÁôΩÂ±±Â§©Ê±†</div>
                        <div class="attraction-description">‰∏≠ÂõΩÊúÄÈ´òÁÅ´Â±±ÊπñÔºåÁßãÂ≠£ÂÄíÊò†ÁùÄ‰∫îÂΩ©ÊñëÊñìÁöÑÂ±±ÊûóÔºåÁæé‰∏çËÉúÊî∂„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç ÈïøÁôΩÂ±±</span>
                            <span>‚è∞ Âª∫ËÆÆ4-5Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/100b0t000000iqxfj746E_R_10000_1200.jpg" alt="ÈïøÁôΩÂ±±ÁÄëÂ∏É"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">ÈïøÁôΩÂ±±ÁÄëÂ∏É</div>
                        <div class="attraction-description">ËêΩÂ∑Æ68Á±≥ÁöÑÂ£ÆËßÇÁÄëÂ∏ÉÔºåÁßãÂ≠£Ê∞¥ÈáèÂÖÖÊ≤õÔºåÊ∞îÂäøÁ£ÖÁ§¥„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç ÈïøÁôΩÂ±±</span>
                            <span>‚è∞ Âª∫ËÆÆ2Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. Â§ßÂÖ¥ÂÆâÂ≤≠ÊûóÊµ∑ -->
            <div class="day-title">
                <div class="day-number">2</div>
                <span>Â§ßÂÖ¥ÂÆâÂ≤≠ÊûóÊµ∑</span>
            </div>
            <div class="route-info">
                <h4>üå≤ Âå∫ÂüüÁâπËâ≤</h4>
                <p>Á©øË∂äÂéüÂßãÊ£ÆÊûóÔºå‰ΩìÈ™å‰∏éÊ¢ÖËä±ÈπøÁöÑ‰∫≤ÂØÜÊé•Ëß¶ÔºåÊÑüÂèóÂ§ßÂÖ¥ÂÆâÂ≤≠ÁöÑÂ£ÆÁæé‰∏éÁ•ûÁßò„ÄÇ</p>
            </div>
            <div class="attractions-grid">
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/0103l1200083ts6mx83CB_C_1600_1200.jpg" alt="Â§ßÂÖ¥ÂÆâÂ≤≠ÊûóÊµ∑"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">Â§ßÂÖ¥ÂÆâÂ≤≠ÊûóÊµ∑</div>
                        <div class="attraction-description">Á©øË∂äÂéüÂßãÊ£ÆÊûóÔºåÊÑüÂèóÂ§ßËá™ÁÑ∂ÁöÑÂ£ÆÁæé‰∏éÁ•ûÁßò„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç Â§ßÂÖ¥ÂÆâÂ≤≠</span>
                            <span>‚è∞ Âª∫ËÆÆ3-4Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/100c0p000000fikf3381F_C_1600_1200.jpg" alt="ÁôΩÊ°¶Êûó"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">ÁôΩÊ°¶Êûó</div>
                        <div class="attraction-description">ÁßãÂ≠£ÁöÑÁôΩÊ°¶ÊûóÈáëÈªÑ‰∏ÄÁâáÔºåÊòØÊëÑÂΩ±Áà±Â•ΩËÄÖÁöÑÂ§©Â†Ç„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç Â§ßÂÖ¥ÂÆâÂ≤≠</span>
                            <span>‚è∞ Âª∫ËÆÆ2Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 3. Êº†Ê≤≥ÊûÅÂú∞ -->
            <div class="day-title">
                <div class="day-number">3</div>
                <span>Êº†Ê≤≥ÊûÅÂú∞</span>
            </div>
            <div class="route-info">
                <h4>üìç Âå∫ÂüüÁâπËâ≤</h4>
                <p>ÂØªÊâæ"ÊúÄÂåó‰πãÂÆ∂"Ôºå‰ΩìÈ™åÁ•ñÂõΩÊúÄÂåóÁ´ØÁöÑÁã¨ÁâπÈ≠ÖÂäõÔºåÊ¨£ËµèÈæôÊ±üÁ¨¨‰∏ÄÊπæÁöÑÂ£ÆÁæé„ÄÇ</p>
            </div>
            <div class="attractions-grid">
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/0100h12000f6se7skAB64_C_1600_1200.jpg" alt="ÂåóÊûÅÊùë"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">ÂåóÊûÅÊùë</div>
                        <div class="attraction-description">ÂØªÊâæ"ÊúÄÂåó‰πãÂÆ∂"Ôºå‰ΩìÈ™åÁ•ñÂõΩÊúÄÂåóÁ´ØÁöÑÁã¨ÁâπÈ≠ÖÂäõ„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç Êº†Ê≤≥Â∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ3-4Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/100q0r000000gqmliE3FF_R_1600_10000.jpg" alt="ÈæôÊ±üÁ¨¨‰∏ÄÊπæ"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">ÈæôÊ±üÁ¨¨‰∏ÄÊπæ</div>
                        <div class="attraction-description">Ê¨£ËµèÈªëÈæôÊ±üÊúÄÂ£ÆËßÇÂºØÊõ≤ÔºåÊÑüÂèóÂ§ßËá™ÁÑ∂ÁöÑÈ¨ºÊñßÁ•ûÂ∑•„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç Êº†Ê≤≥Â∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ2Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4. ‰∫îÂ§ßËøûÊ±† -->
            <div class="day-title">
                <div class="day-number">4</div>
                <span>‰∫îÂ§ßËøûÊ±†</span>
            </div>
            <div class="route-info">
                <h4>üåã Âå∫ÂüüÁâπËâ≤</h4>
                <p>‰∏ñÁïåÂú∞Ë¥®ÂÖ¨Âõ≠ÔºåÁÅ´Â±±Âú∞Ë≤å‰∏éÊπñÊ≥äÁöÑÂÆåÁæéÁªìÂêàÔºåÁßãÂ≠£Ëâ≤ÂΩ©ÊñëÊñìÔºåÊ∏©Ê≥âËµÑÊ∫ê‰∏∞ÂØå„ÄÇ</p>
            </div>
            <div class="attractions-grid">
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/0106c12000j19xs7i1CBC_R_1600_10000.jpg" alt="‰∫îÂ§ßËøûÊ±†ÁÅ´Â±±Áæ§"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">‰∫îÂ§ßËøûÊ±†ÁÅ´Â±±Áæ§</div>
                        <div class="attraction-description">‰∏ñÁïåÂú∞Ë¥®ÂÖ¨Âõ≠Ôºå14Â∫ßÁÅ´Â±±ÁªÑÊàêÁöÑÁÅ´Â±±Áæ§ÔºåÁßãÂ≠£Ëâ≤ÂΩ©ÊñëÊñì„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç ‰∫îÂ§ßËøûÊ±†Â∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ3-4Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/0105f12000f9qdwid0F63_R_1600_10000.jpg" alt="Ê∏©Ê≥ä"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">Ê∏©Ê≥ä</div>
                        <div class="attraction-description">ÁÅ´Â±±ÁÜîÂ≤©Â†∞Â°ûÊπñÔºåÊπñÊ∞¥Ê∏ÖÊæàÔºåÂÄíÊò†ÁùÄÁÅ´Â±±ÂíåÊ£ÆÊûó„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç ‰∫îÂ§ßËøûÊ±†Â∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ2-3Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 5. Âëº‰º¶Ë¥ùÂ∞îËçâÂéü -->
            <div class="day-title">
                <div class="day-number">5</div>
                <span>Âëº‰º¶Ë¥ùÂ∞îËçâÂéü</span>
            </div>
            <div class="route-info">
                <h4>üåæ Âå∫ÂüüÁâπËâ≤</h4>
                <p>ÂπøË¢§ÁöÑËçâÂéü„ÄÅËúøËúíÁöÑÊ≤≥ÊµÅ„ÄÅÊàêÁæ§ÁöÑÁâõÁæäÔºåÊûÑÊàê‰∫Ü‰∏ÄÂπÖÂ£ÆÁæéÁöÑËçâÂéüÁîªÂç∑„ÄÇ</p>
            </div>
            <div class="attractions-grid">
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/1lo3812000bfhar1e35C6_C_1600_1200.jpg" alt="Ëé´Êó•Ê†ºÂãíÊ≤≥"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">Ëé´Êó•Ê†ºÂãíÊ≤≥</div>
                        <div class="attraction-description">ËçâÂéü‰∏äÁöÑ‰πùÊõ≤ÂçÅÂÖ´ÂºØÔºåË¢´Ë™â‰∏∫"Â§©‰∏ãÁ¨¨‰∏ÄÊõ≤Ê∞¥"„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç Êµ∑ÊãâÂ∞îÂ∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ2-3Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/0105912000j0h49tpE37D_R_1600_10000.jpg" alt="ËçâÂéüÈ£éÂÖâ"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">ËçâÂéüÈ£éÂÖâ</div>
                        <div class="attraction-description">ÂπøË¢§ÁöÑËçâÂéü„ÄÅÊàêÁæ§ÁöÑÁâõÁæäÔºåÊûÑÊàê‰∫Ü‰∏ÄÂπÖÂ£ÆÁæéÁöÑËçâÂéüÁîªÂç∑„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç Âëº‰º¶Ë¥ùÂ∞î</span>
                            <span>‚è∞ Âª∫ËÆÆÂÖ®Â§©</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 6. ÈòøÂ∞îÂ±±ÁÅ´Â±± -->
            <div class="day-title">
                <div class="day-number">6</div>
                <span>ÈòøÂ∞îÂ±±ÁÅ´Â±±</span>
            </div>
            <div class="route-info">
                <h4>üåã Âå∫ÂüüÁâπËâ≤</h4>
                <p>ÁÅ´Â±±Âú∞Ë≤å‰∏éÊ£ÆÊûóÊ∏©Ê≥âÁöÑÂÆåÁæéÁªìÂêàÔºåÁßãÂ≠£ÁöÑÈòøÂ∞îÂ±±Ëâ≤ÂΩ©‰∏∞ÂØåÔºåÊòØÊëÑÂΩ±Âíå‰ºëÈó≤ÁöÑÁªù‰Ω≥ÂéªÂ§Ñ„ÄÇ</p>
            </div>
            <div class="attractions-grid">
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/1005180000015chbo1954_R_1600_10000.jpg" alt="ÈòøÂ∞îÂ±±Â§©Ê±†"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">ÈòøÂ∞îÂ±±Â§©Ê±†</div>
                        <div class="attraction-description">ÁÅ´Â±±Âè£ÊπñÔºåÁßãÂ≠£ÂÄíÊò†ÁùÄ‰∫îÂΩ©ÊñëÊñìÁöÑÂ±±ÊûóÔºåÁæé‰∏çËÉúÊî∂„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç ÈòøÂ∞îÂ±±Â∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ3-4Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/fd/tg/g4/M00/5E/12/CggYHlYzAkaANBf7ACYFUmAGuB4244_R_1600_10000.jpg"
                        alt="Áü≥Â°òÊûó" class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">Áü≥Â°òÊûó</div>
                        <div class="attraction-description">ÁÅ´Â±±ÁÜîÂ≤©Âú∞Ë≤åÔºåÁßãÂ≠£Ëâ≤ÂΩ©‰∏∞ÂØåÔºåÊòØÊëÑÂΩ±ÁöÑÁªù‰Ω≥Âú∞ÁÇπ„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç ÈòøÂ∞îÂ±±Â∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ2-3Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 7. È¢ùÂ∞îÂè§Á∫≥ÊπøÂú∞ -->
            <div class="day-title">
                <div class="day-number">7</div>
                <span>È¢ùÂ∞îÂè§Á∫≥ÊπøÂú∞</span>
            </div>
            <div class="route-info">
                <h4>üåø Âå∫ÂüüÁâπËâ≤</h4>
                <p>‰∫öÊ¥≤Á¨¨‰∏ÄÊπøÂú∞ÔºåÁßãÂ≠£Ëâ≤ÂΩ©ÊñëÊñìÔºåÊòØÊëÑÂΩ±Áà±Â•ΩËÄÖÁöÑÂ§©Â†ÇÔºå‰πüÊòØÂÄôÈ∏üÁöÑÈáçË¶ÅÊ†ñÊÅØÂú∞„ÄÇ</p>
            </div>
            <div class="attractions-grid">
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/0101i120008obv8cy3844_R_1600_10000.jpg" alt="È¢ùÂ∞îÂè§Á∫≥ÊπøÂú∞"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">È¢ùÂ∞îÂè§Á∫≥ÊπøÂú∞</div>
                        <div class="attraction-description">‰∫öÊ¥≤Á¨¨‰∏ÄÊπøÂú∞ÔºåÁßãÂ≠£Ëâ≤ÂΩ©ÊñëÊñìÔºåÊòØÊëÑÂΩ±Áà±Â•ΩËÄÖÁöÑÂ§©Â†Ç„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç È¢ùÂ∞îÂè§Á∫≥Â∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ3-4Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
                <div class="attraction-card">
                    <img src="https://dimg04.c-ctrip.com/images/10070t000000iqheq1725_R_1600_10000.jpg" alt="ÊπøÂú∞Êó•ËêΩ"
                        class="attraction-image">
                    <div class="attraction-content">
                        <div class="attraction-title">ÊπøÂú∞Êó•ËêΩ</div>
                        <div class="attraction-description">Ê¨£ËµèÊπøÂú∞ÁöÑÂ£ÆÁæéÊó•ËêΩÔºåÊÑüÂèóÂ§ßËá™ÁÑ∂ÁöÑÂÆÅÈùô‰∏éÂ£ÆÁæé„ÄÇ</div>
                        <div class="attraction-details">
                            <span>üìç È¢ùÂ∞îÂè§Á∫≥Â∏Ç</span>
                            <span>‚è∞ Âª∫ËÆÆ1-2Â∞èÊó∂</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="highlights-section">
            <h2 style="color: #2d3436; margin-bottom: 30px; text-align: center;">üåü Ë°åÁ®ã‰∫ÆÁÇπ</h2>
            <div class="highlights-grid">
                <div class="highlight-card">
                    <div class="highlight-icon">üèîÔ∏è</div>
                    <h3>ÈïøÁôΩÂ±±Â§©Ê±†</h3>
                    <p>ÁßãÂ≠£Ëâ≤ÂΩ©ÊñëÊñì</p>
                </div>
                <div class="highlight-card">
                    <div class="highlight-icon">üå≤</div>
                    <h3>Â§ßÂÖ¥ÂÆâÂ≤≠ÊûóÊµ∑</h3>
                    <p>ÂéüÂßãÊ£ÆÊûóÁ©øË∂ä</p>
                </div>
                <div class="highlight-card">
                    <div class="highlight-icon">ü¶å</div>
                    <h3>ÈáëÂ±±ÈπøËãë</h3>
                    <p>‰∏éÊ¢ÖËä±Èπø‰∫≤ÂØÜÊé•Ëß¶</p>
                </div>
                <div class="highlight-card">
                    <div class="highlight-icon">üìç</div>
                    <h3>ÂåóÊûÅÊùë</h3>
                    <p>Á•ñÂõΩÊúÄÂåóÂùêÊ†á</p>
                </div>
                <div class="highlight-card">
                    <div class="highlight-icon">üåæ</div>
                    <h3>Âëº‰º¶Ë¥ùÂ∞îËçâÂéü</h3>
                    <p>ÂπøË¢§ËçâÂéüÈ£éÂÖâ</p>
                </div>

                <div class="highlight-card">
                    <div class="highlight-icon">üåã</div>
                    <h3>ÈòøÂ∞îÂ±±ÁÅ´Â±±</h3>
                    <p>ÁÅ´Â±±Âú∞Ë≤åÂ•áËßÇ</p>
                </div>
                <div class="highlight-card">
                    <div class="highlight-icon">üåã</div>
                    <h3>‰∫îÂ§ßËøûÊ±†</h3>
                    <p>ÁÅ´Â±±Âú∞Ë≤åÂ•áËßÇ</p>
                </div>
            </div>
        </div>

        <!-- Ë°åÁ®ãÁªÜËäÇ / ‰∫§ÈÄö / ‰ΩèÂÆø -->
        <div class="details-section">
            <h2 style="color: #2d3436; margin-bottom: 18px; text-align: center;">üß≠ ÊØèÊó•Ë°åÁ®ãÁªÜËäÇ ¬∑ ‰∫§ÈÄö ¬∑ ‰ΩèÂÆø</h2>
            <div id="dayDetails"></div>
        </div>

        <!-- Â§©Ê∞îÊü•ËØ¢ -->
        <div class="weather-section"
            style="background: white; border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);">
            <h2 style="color: #2d3436; margin-bottom: 30px; text-align: center;">üå§Ô∏è ‰∏ªË¶ÅÂüéÂ∏ÇÂ§©Ê∞îÊü•ËØ¢</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px;">
                <div class="weather-card" onclick="queryWeather('ÈïøÊò•')"
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>ÈïøÊò•</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('ÈïøÁôΩÂ±±')"
                    style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>ÈïøÁôΩÂ±±</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('Áè≤Êò•')"
                    style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>Áè≤Êò•</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('ÈªëÊ≤≥')"
                    style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>ÈªëÊ≤≥</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('‰∫îÂ§ßËøûÊ±†')"
                    style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>‰∫îÂ§ßËøûÊ±†</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('Êº†Ê≤≥')"
                    style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>Êº†Ê≤≥</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('Ê†πÊ≤≥')"
                    style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>Ê†πÊ≤≥</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('È¢ùÂ∞îÂè§Á∫≥')"
                    style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>È¢ùÂ∞îÂè§Á∫≥</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('Êµ∑ÊãâÂ∞î')"
                    style="background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>Êµ∑ÊãâÂ∞î</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
                <div class="weather-card" onclick="queryWeather('ÈòøÂ∞îÂ±±')"
                    style="background: linear-gradient(135deg, #fad0c4 0%, #ffd1ff 100%); color: white; padding: 15px; border-radius: 10px; text-align: center; cursor: pointer; transition: transform 0.3s ease;">
                    <h3>ÈòøÂ∞îÂ±±</h3>
                    <p>ÁÇπÂáªÊü•ËØ¢Â§©Ê∞î</p>
                </div>
            </div>
            <div id="weatherResult"
                style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px; display: none;">
                <h3 id="weatherCity" style="color: #2d3436; margin-bottom: 10px;"></h3>
                <div id="weatherInfo" style="color: #636e72;"></div>
            </div>
        </div>

        <!-- ËΩ®ËøπÂõæ -->
        <div class="track-section"
            style="background: white; border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);">
            <h2 style="color: #2d3436; margin-bottom: 20px; text-align: center;">üìç G331ËæπÂ¢ÉÂÖ¨Ë∑ØËΩ®ËøπÂõæÔºà13Â§©Á≤æÂçéÁéØÁ∫øÔºâ</h2>

            <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px; align-items: start;">
                <!-- Â∑¶‰æßÔºöÈ´òÂæ∑Âú∞ÂõæËΩ®ËøπÂõæ -->
                <div style="position: relative;">
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 20px; text-align: center;">
                        <h3 style="color: #2d3436; margin-bottom: 15px; font-size: 20px;">ÂçÅ‰∏ÄËá™È©æÊ∏∏</h3>
                        <p style="color: #636e72; margin-bottom: 10px; font-size: 16px;">ÂçÅ‰∏ÄËá™È©æË∑ØÁ∫ø</p>
                        <p style="color: #e74c3c; margin-bottom: 20px; font-size: 14px; font-weight: 500;">üìç
                            ÂΩìÂâçÊòæÁ§∫ÔºöÈïøÊò•‚ÜíÈïøÁôΩÂ±±‚ÜíÁè≤Êò•ÊÆµ | ÂÆåÊï¥Ë∑ØÁ∫øÔºö13Â§©ÁéØÁ∫øËßÅÂè≥‰æß</p>
                        <p style="color: #636e72; margin-bottom: 20px; font-size: 12px; font-style: italic;">üí°
                            ÊèêÁ§∫ÔºöÁÇπÂáªÂõæÁâáÊàñÊåâÈíÆÂèØÊü•ÁúãÂÆåÊï¥È´òÂæ∑Âú∞ÂõæË∑ØÁ∫øÔºåÂåÖÂê´ÊâÄÊúâ13Â§©Ë°åÁ®ãÁÇπ</p>

                        <!-- Âú∞ÂõæÂÆπÂô® -->
                        <div id="amapContainer"
                            style="width: 100%; height: 400px; border-radius: 8px; overflow: hidden; position: relative; cursor: pointer;"
                            onclick="openAmapRoute()">
                            <img src="images/WX20250813-202731.png" alt="G331ËæπÂ¢ÉÂÖ¨Ë∑ØËΩ®ËøπÂõæ"
                                style="width: 100%; height: 100%; object-fit: contain; border-radius: 8px; background: #f8f9fa;">
                            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease;"
                                onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0'">
                                <div
                                    style="text-align: center; color: white; background: rgba(0,0,0,0.7); padding: 15px; border-radius: 8px;">
                                    <div style="font-size: 18px; margin-bottom: 5px;">üó∫Ô∏è</div>
                                    <div style="font-size: 14px;">ÁÇπÂáªÊü•ÁúãÂÆåÊï¥È´òÂæ∑Âú∞ÂõæË∑ØÁ∫ø</div>
                                </div>
                            </div>
                        </div>

                        <!-- Ë∑ØÁ∫ø‰ø°ÊÅØ -->
                        <div
                            style="margin-top: 15px; padding: 15px; background: white; border-radius: 8px; border: 1px solid #e9ecef;">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                                <span style="font-weight: 600; color: #2d3436;">ÂàÜ‰∫´‰∫∫: È™ëÂÖ¨Ë∑ØËá™Ë°åËΩ¶ÁöÑÈùíË±Ü</span>
                                <span style="font-size: 12px; color: #636e72;">‰∫åÁª¥Á†ÅÈïøÊúüÊúâÊïà</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="display: flex; align-items: center; gap: 10px;">
                                    <span style="font-size: 14px; color: #636e72;">Êã•ÊúâËá™Â∑±ÁöÑÂú∞Âõæ</span>
                                    <div style="display: flex; gap: 5px;">
                                        <a href="https://nav1.autonavi.com/activity/2020CommonLanding5/index.html?id=123&local=1&randomSchemaParam=1755086007419&schema=amapuri%3A%2F%2FworkInAmap%2Fbackflow%3Fsource%3D1%26isMuilLayer%3Dundefined%26resourceType%3D2%26shareId%3Dbed55X12An00BELynqg%26from%3Dshare%26clearStack%3D1&share_from=work_in_amap_WIAIndex&share_from_type=AJX&share_type=url&share_lastClickSpm=amap.29189413.screenshot_share.share_entrance&share_bid=nihdn1lv0pqffccfj7662e76hek9cgeib0d630b"
                                            target="_blank" style="text-decoration: none;">
                                            <span
                                                style="background: #007bff; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; cursor: pointer;">È´òÂæ∑Âú∞Âõæ</span>
                                        </a>
                                        <span
                                            style="background: #28a745; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px;">Âú∞ÂõæÂ∞èÁ®ãÂ∫è</span>
                                    </div>
                                </div>
                                <div style="width: 60px; height: 60px; background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 12px; color: #636e72; cursor: pointer;"
                                    onclick="openAmapRoute()" title="ÁÇπÂáªÊâìÂºÄÈ´òÂæ∑Âú∞Âõæ">
                                    üó∫Ô∏è
                                </div>
                            </div>
                        </div>

                        <!-- Âú∞ÂõæÊéßÂà∂ÊåâÈíÆ -->
                        <div style="margin-top: 15px; display: flex; gap: 10px; justify-content: center;">
                            <button class="cta-btn" onclick="openAmapRoute()"
                                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                                üó∫Ô∏è ÊâìÂºÄÈ´òÂæ∑Âú∞Âõæ
                            </button>
                            <button class="cta-btn secondary" onclick="toggleTopoMap()">
                                üèîÔ∏è È£éÊôØÂú∞ÂΩ¢Âõæ
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Âè≥‰æßÔºöËßÜÈ¢ëÂ±ïÁ§∫ -->
                <div style="display: flex; flex-direction: column; gap: 15px;">
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px;">
                        <h4 style="color: #2d3436; margin-bottom: 10px; font-size: 16px;">üé¨ Ë°åÁ®ãËßÜÈ¢ë</h4>
                        <video controls style="width: 100%; border-radius: 8px; background: #000;">
                            <source src="videos/831_1755086568.mp4" type="video/mp4">
                            ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅËßÜÈ¢ëÊí≠Êîæ„ÄÇ
                        </video>
                        <p style="font-size: 12px; color: #636e72; margin-top: 8px; text-align: center;">
                            G331ËæπÂ¢ÉÂÖ¨Ë∑ØÁ≤æÂçéÁâáÊÆµ
                        </p>
                    </div>

                    <!-- Ë∑ØÁ∫øÊ¶ÇËßà -->
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px;">
                        <h4 style="color: #2d3436; margin-bottom: 10px; font-size: 16px;">üìã ÂÆåÊï¥13Â§©Ë∑ØÁ∫ø</h4>
                        <div style="font-size: 12px; color: #636e72; line-height: 1.5;">
                            <div style="margin-bottom: 8px;"><strong>ÊÄªÈáåÁ®ãÔºö</strong>Á∫¶5000ÂÖ¨Èáå</div>
                            <div style="margin-bottom: 8px;"><strong>Ë°åÁ®ãÂ§©Êï∞Ôºö</strong>13Â§©Á≤æÂçéÁéØÁ∫ø</div>
                            <div style="margin-bottom: 8px;"><strong>Á©øË∂äÁúÅ‰ªΩÔºö</strong>ÂêâÊûó„ÄÅÈªëÈæôÊ±ü„ÄÅÂÜÖËíôÂè§</div>
                            <div style="margin-bottom: 8px;"><strong>ÂÆåÊï¥Ë∑ØÁ∫øÔºö</strong></div>
                            <div
                                style="background: white; padding: 8px; border-radius: 6px; font-size: 11px; line-height: 1.4; max-height: 200px; overflow-y: auto;">
                                <div style="color: #2d3436; font-weight: 500;">D0: ÂêÑÂú∞‚ÜíÈïøÊò•</div>
                                <div style="color: #636e72;">D1-2: ÈïøÊò•‚ÜíÈïøÁôΩÂ±±</div>
                                <div style="color: #636e72;">D3: ÈïøÁôΩÂ±±‚ÜíÁè≤Êò•‚ÜíËôéÊûó</div>
                                <div style="color: #636e72;">D4: ËôéÊûó‚ÜíÈ•∂Ê≤≥‚ÜíÊäöËøú</div>
                                <div style="color: #636e72;">D5: ÊäöËøú‚ÜíÂêåÊ±ü</div>
                                <div style="color: #636e72;">D6: ÂêåÊ±ü‚ÜíÈªëÊ≤≥</div>
                                <div style="color: #636e72;">D7: ÈªëÊ≤≥‚Üí‰∫îÂ§ßËøûÊ±†</div>
                                <div style="color: #636e72;">D8: ‰∫îÂ§ßËøûÊ±†‚ÜíÊº†Ê≤≥</div>
                                <div style="color: #636e72;">D9: Êº†Ê≤≥‚ÜíÊ†πÊ≤≥</div>
                                <div style="color: #636e72;">D10: Ê†πÊ≤≥‚ÜíÈ¢ùÂ∞îÂè§Á∫≥</div>
                                <div style="color: #636e72;">D11: È¢ùÂ∞îÂè§Á∫≥‚ÜíÊµ∑ÊãâÂ∞î</div>
                                <div style="color: #636e72;">D12: Êµ∑ÊãâÂ∞î‚ÜíÈòøÂ∞îÂ±±</div>
                                <div style="color: #636e72;">D13: ÈòøÂ∞îÂ±±‚ÜíÂêÑÂú∞</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ÈöêËóèÁöÑLeafletÂú∞ÂõæÂÆπÂô® -->
            <div id="leafletMap"
                style="display: none; margin-top: 20px; height: 400px; border-radius: 8px; overflow: hidden;"></div>
        </div>

        <!-- È¢ÑÁÆó‰º∞ÁÆó -->
        <div class="budget-section"
            style="background: white; border-radius: 15px; padding: 30px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);">
            <h2 style="color: #2d3436; margin-bottom: 30px; text-align: center;">üí∞ È¢ÑÁÆó‰º∞ÁÆóÔºà4‰∫∫ÊãºËΩ¶Ôºâ</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                <div
                    style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">üé´</div>
                    <h3>Èó®Á•®Ë¥πÁî®</h3>
                    <p style="font-size: 1.5rem; font-weight: bold;">Á∫¶ ¬•600</p>
                    <p style="font-size: 0.9rem; opacity: 0.9;">ÈïøÁôΩÂ±±„ÄÅ‰∫îÂ§ßËøûÊ±†„ÄÅÂåóÊûÅÊùë„ÄÅÈòøÂ∞îÂ±±Á≠â‰∏ªË¶ÅÊôØÁÇπ</p>
                </div>
                <div
                    style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">‚õΩ</div>
                    <h3>Ê≤πË¥πË∑ØË¥π</h3>
                    <p style="font-size: 1.5rem; font-weight: bold;">Á∫¶ ¬•900</p>
                    <p style="font-size: 0.9rem; opacity: 0.9;">4500ÂÖ¨ÈáåÔºåÂê´È´òÈÄüË¥π„ÄÅÂÅúËΩ¶Ë¥π</p>
                </div>
                <div
                    style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">üè®</div>
                    <h3>‰ΩèÂÆøË¥πÁî®</h3>
                    <p style="font-size: 1.5rem; font-weight: bold;">Á∫¶ ¬•2,100</p>
                    <p style="font-size: 0.9rem; opacity: 0.9;">14ÊôöÔºåÂπ≥Âùá¬•150/Êôö/‰∫∫</p>
                </div>
                <div
                    style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); color: white; padding: 20px; border-radius: 10px; text-align: center;">
                    <div style="font-size: 2rem; margin-bottom: 10px;">üçΩÔ∏è</div>
                    <h3>È§êÈ•ÆË¥πÁî®</h3>
                    <p style="font-size: 1.5rem; font-weight: bold;">Á∫¶ ¬•1,300</p>
                    <p style="font-size: 0.9rem; opacity: 0.9;">13Â§©ÔºåÂπ≥Âùá¬•100/Â§©/‰∫∫</p>
                </div>
            </div>
            <div
                style="text-align: center; margin-top: 30px; padding: 20px; background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); border-radius: 10px; color: white;">
                <h3 style="margin-bottom: 10px;">ÊÄªÈ¢ÑÁÆó‰º∞ÁÆó</h3>
                <p style="font-size: 2rem; font-weight: bold; margin-bottom: 10px;">Á∫¶ ¬•4,900/‰∫∫</p>
                <p style="font-size: 1.2rem; font-weight: bold; margin-bottom: 10px; color: #2d3436;">È¢ÑÁÆóËåÉÂõ¥Ôºö¬•4,500 -
                    ¬•5,800/‰∫∫</p>
                <p style="font-size: 0.9rem; opacity: 0.9;">‰∏çÂê´ÂæÄËøîÊú∫Á•®ÔºåÂª∫ËÆÆÂáÜÂ§á¬•6,500/‰∫∫</p>
            </div>
        </div>

        <div class="tips-section">
            <h2 style="color: #2d3436; margin-bottom: 30px;">üí° ÂÆûÁî®Ë¥¥Â£´</h2>

            <!-- ÈáçË¶ÅÊèêÈÜí‰∏éÁ¥ßÊÄ•ËÅîÁ≥ª -->
            <div class="tip-category" style="margin-bottom: 25px;">
                <h3 style="color: #2d3436; margin-bottom: 15px; font-size: 18px;">‚ö†Ô∏è ÈáçË¶ÅÊèêÈÜí‰∏éÁ¥ßÊÄ•ËÅîÁ≥ª</h3>
                <ul class="tips-list">
                    <li><strong>Â§©Ê∞îÁâπÁÇπÔºö</strong>9ÊúàÂ∫ï-10ÊúàÂàùÊòºÂ§úÊ∏©Â∑ÆÂ§ßÔºà15-20¬∞CÔºâÔºåÊó©ÊôöÈúÄ‰øùÊöñÔºå‰∏≠ÂçàÂèØÁ©øÂçïË°£</li>
                    <li><strong>ËæπÂ¢ÉËßÑÂÆöÔºö</strong>ËæπÂ¢ÉÂú∞Âå∫ÈúÄÊê∫Â∏¶Ë∫´‰ªΩËØÅÔºå‰∏çË¶ÅÈöèÊÑèÊãçÁÖßÂÜõ‰∫ãËÆæÊñΩÔºåÊ≥®ÊÑèÈò≤ÁÅ´ÂÆâÂÖ®</li>
                    <li><strong>Ë∑ØÂÜµÊèêÈÜíÔºö</strong>G331ËæπÂ¢ÉÂÖ¨Ë∑ØÈÉ®ÂàÜË∑ØÊÆµÊó†‰ø°Âè∑ÔºåÊèêÂâç‰∏ãËΩΩÁ¶ªÁ∫øÂú∞ÂõæÔºàÈ´òÂæ∑/ÁôæÂ∫¶Ôºâ</li>
                    <li><strong>Âä†Ê≤πÊîªÁï•Ôºö</strong>ËæπÂ¢ÉÊÆµÂä†Ê≤πÁ´ôÁ®ÄÁñèÔºåÂª∫ËÆÆÊ≤πÈáè‰Ωé‰∫é1/2Êó∂ÂèäÊó∂Ë°•ÂÖÖ</li>
                    <li><strong>ÂÆâÂÖ®È©æÈ©∂Ôºö</strong>ËæπÂ¢ÉÂÖ¨Ë∑ØÂºØÈÅìÂ§öÔºåÊ≥®ÊÑèÂáèÈÄüÊÖ¢Ë°åÔºå‰øùÊåÅÂÆâÂÖ®ËΩ¶Ë∑ù</li>
                    <li><strong>Á¥ßÊÄ•ÁîµËØùÔºö</strong>Êä•Ë≠¶110ÔºåÊÄ•Êïë120Ôºå‰∫§ÈÄö‰∫ãÊïÖ122ÔºåÊ£ÆÊûóÁÅ´Ë≠¶12119</li>
                    <li><strong>ËΩ¶ËæÜÊïëÊè¥Ôºö</strong>ËÆ∞ÂΩï‰øùÈô©ÂÖ¨Âè∏ÊïëÊè¥ÁîµËØùÔºåÂáÜÂ§áÊãñËΩ¶Áª≥</li>
                    <li><strong>ÂåªÁñóÂáÜÂ§áÔºö</strong>Â∏∏Áî®ËçØÂìÅÔºàÊÑüÂÜíËçØ„ÄÅËÇ†ËÉÉËçØ„ÄÅÂàõÂèØË¥¥ÔºâÔºåÈ´òÂéüÂèçÂ∫îËçØÁâ©</li>
                </ul>
            </div>

            <!-- ‰∏™‰∫∫Êê∫Â∏¶Ë£ÖÂ§áÊ∏ÖÂçï -->
            <div class="tip-category" style="margin-bottom: 25px;">
                <h3 style="color: #2d3436; margin-bottom: 15px; font-size: 18px;">üéí ‰∏™‰∫∫Êê∫Â∏¶Ë£ÖÂ§áÊ∏ÖÂçï</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <!-- ËØÅ‰ª∂Á±ª -->
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px;">
                        <h4 style="color: #2d3436; margin-bottom: 10px; font-size: 16px;">üìã ËØÅ‰ª∂Á±ª</h4>
                        <ul style="list-style: none; padding: 0; font-size: 14px; color: #636e72;">
                            <li style="margin-bottom: 5px;">‚úÖ Ë∫´‰ªΩËØÅ</li>
                            <li style="margin-bottom: 5px;">‚úÖ È©æÈ©∂ËØÅ</li>
                            <li style="margin-bottom: 5px;">‚úÖ Ë°åÈ©∂ËØÅ</li>
                            <li style="margin-bottom: 5px;">‚úÖ ËΩ¶ËæÜ‰øùÈô©Âçï</li>
                        </ul>
                    </div>

                    <!-- ‰øùÊöñÁ±ª -->
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px;">
                        <h4 style="color: #2d3436; margin-bottom: 10px; font-size: 16px;">üß• ‰øùÊöñÁ±ª</h4>
                        <ul style="list-style: none; padding: 0; font-size: 14px; color: #636e72;">
                            <li style="margin-bottom: 5px;">‚úÖ ÂÜ≤ÈîãË°£/ÁæΩÁªíÊúç</li>
                            <li style="margin-bottom: 5px;">‚úÖ ‰øùÊöñÂÜÖË°£</li>
                            <li style="margin-bottom: 5px;">‚úÖ Â∏ΩÂ≠ê„ÄÅÊâãÂ•ó„ÄÅÂõ¥Â∑æ</li>
                            <li style="margin-bottom: 5px;">‚úÖ ÁôªÂ±±Èûã/Èò≤ÊªëÈûã</li>
                        </ul>
                    </div>

                    <!-- ÊëÑÂΩ±Á±ª -->
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px;">
                        <h4 style="color: #2d3436; margin-bottom: 10px; font-size: 16px;">üì∏ ÊëÑÂΩ±Á±ª</h4>
                        <ul style="list-style: none; padding: 0; font-size: 14px; color: #636e72;">
                            <li style="margin-bottom: 5px;">‚úÖ Áõ∏Êú∫ + ‰∏âËÑöÊû∂</li>
                            <li style="margin-bottom: 5px;">‚úÖ ÂπøËßíÈïúÂ§¥ÔºàÈ£éÊôØÔºâ</li>
                            <li style="margin-bottom: 5px;">‚úÖ Â§áÁî®ÁîµÊ±† + Â≠òÂÇ®Âç°</li>
                            <li style="margin-bottom: 5px;">‚úÖ ÊâãÊú∫ÂÖÖÁîµÂô®</li>
                        </ul>
                    </div>

                    <!-- Èò≤Êä§Á±ª -->
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px;">
                        <h4 style="color: #2d3436; margin-bottom: 10px; font-size: 16px;">üõ°Ô∏è Èò≤Êä§Á±ª</h4>
                        <ul style="list-style: none; padding: 0; font-size: 14px; color: #636e72;">
                            <li style="margin-bottom: 5px;">‚úÖ Èò≤ÊôíÈúú</li>
                            <li style="margin-bottom: 5px;">‚úÖ Èò≤ËöäËô´Âñ∑Èõæ</li>
                            <li style="margin-bottom: 5px;">‚úÖ Èõ®ÂÖ∑ÔºàÈõ®Ë°£/Èõ®‰ºûÔºâ</li>
                            <li style="margin-bottom: 5px;">‚úÖ ÊÄ•ÊïëÂåÖ</li>
                        </ul>
                    </div>

                    <!-- ËçØÂìÅÁ±ª -->
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px;">
                        <h4 style="color: #2d3436; margin-bottom: 10px; font-size: 16px;">üíä ËçØÂìÅÁ±ª</h4>
                        <ul style="list-style: none; padding: 0; font-size: 14px; color: #636e72;">
                            <li style="margin-bottom: 5px;">‚úÖ ÊÑüÂÜíËçØ</li>
                            <li style="margin-bottom: 5px;">‚úÖ ËÇ†ËÉÉËçØ</li>
                            <li style="margin-bottom: 5px;">‚úÖ ÂàõÂèØË¥¥</li>
                            <li style="margin-bottom: 5px;">‚úÖ ‰∏™‰∫∫Â∏∏Áî®ËçØ</li>
                        </ul>
                    </div>

                    <!-- ÂÖ∂‰ªñÁ±ª -->
                    <div style="background: #f8f9fa; border-radius: 10px; padding: 15px;">
                        <h4 style="color: #2d3436; margin-bottom: 10px; font-size: 16px;">üì± ÂÖ∂‰ªñÁ±ª</h4>
                        <ul style="list-style: none; padding: 0; font-size: 14px; color: #636e72;">
                            <li style="margin-bottom: 5px;">‚úÖ ËΩ¶ËΩΩÂÖÖÁîµÂô®</li>
                            <li style="margin-bottom: 5px;">‚úÖ Á¶ªÁ∫øÂú∞Âõæ</li>
                            <li style="margin-bottom: 5px;">‚úÖ ÊãñËΩ¶Áª≥</li>
                            <li style="margin-bottom: 5px;">‚úÖ Áé∞Èáë + ÁßªÂä®ÊîØ‰ªò</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ë°åÁ®ãÊï∞ÊçÆ‰∏éÂùêÊ†á
        const placeCoords = {
            "ÈïøÊò•": [125.3245, 43.8868],
            "ÈïøÁôΩÂ±±": [128.08, 42.05],
            "Áè≤Êò•": [130.366, 42.862],
            "ËôéÊûó": [132.937, 45.763],
            "È•∂Ê≤≥": [134.014, 46.798],
            "ÊäöËøú": [134.296, 48.364],
            "ÂêåÊ±ü": [132.511, 47.642],
            "ÈªëÊ≤≥": [127.499023, 50.245234],
            "‰∫îÂ§ßËøûÊ±†": [126.198, 48.521],
            "Êº†Ê≤≥": [122.537, 52.972],
            "Ê†πÊ≤≥": [121.516, 50.783],
            "È¢ùÂ∞îÂè§Á∫≥": [120.182, 50.243],
            "Êµ∑ÊãâÂ∞î": [119.736, 49.213],
            "ÈòøÂ∞îÂ±±": [119.943, 47.177]
        };

        const tripDays = [
            {
                d: 0, title: "ÂêÑÂú∞ ‚Üí ÈïøÊò•ÈõÜÂêà", start: "ÂêÑÂú∞", end: "ÈïøÊò•", distance: 0, hours: 0,
                plan: ["ÂêÑÂú∞ÊäµËææÈïøÊò•", "ÂèñËΩ¶Ê£ÄËΩ¶", "Ë°åÁ®ãÂáÜÂ§á", "Âõ¢ÈòüÈõÜÂêà"],
                cityMetro: "ÈïøÊò•Âú∞ÈìÅÔºö1/2Âè∑Á∫øË¶ÜÁõñ‰∏ªË¶ÅÂå∫ÂüüÔºåÊú∫Âú∫Â§ßÂ∑¥Áõ¥ËææÂ∏ÇÂå∫",
                alt: "ÈïøÊò•ÈæôÂòâÊú∫Âú∫ÊúâÂú∞ÈìÅ2Âè∑Á∫øÁõ¥ËææÂ∏ÇÂå∫ÔºåÈïøÊò•Á´ô/Ë•øÁ´ôÊúâÂú∞ÈìÅ1Âè∑Á∫ø",
                stay: "ÈïøÊò•Â∏ÇÂå∫ÈÖíÂ∫óÔºàÂª∫ËÆÆÔºöÈïøÊò•È¶ôÊ†ºÈáåÊãâ/‰∏áËææÊñáÂçé/ÂáØÊÇ¶Ôºâ",
                photoTip: "ÈïøÊò•Â∏ÇÂå∫Â§úÊôØÔºå‰º™Êª°ÁöáÂÆ´Âª∫Á≠ëÁæ§ÔºåÂáÄÊúàÊΩ≠È£éÂÖâ„ÄÇ",
                notice: "ÊèêÂâçÁ°ÆËÆ§ËΩ¶ËæÜÁßüËµÅÔºåÊ£ÄÊü•ËΩ¶ÂÜµÔºåÂáÜÂ§áËæπÂ¢ÉËØÅ‰ª∂„ÄÇ<br><strong>üöó Â§áÈÄâÊñπÊ°àÔºö</strong>Ëá™È©æÂèØËÄÉËôë‰ªé‰∏π‰∏úÂá∫ÂèëÔºåÊ≤øG331ÁªèÈõÜÂÆâÂ∏ÇÊäµËææÁôΩÂ±±Â∏ÇÔºàÂÆåÊï¥G331‰ΩìÈ™åÔºåÂê´È∏≠ÁªøÊ±üÈ£éÂÖâ„ÄÅÈ´òÂè•‰∏ΩÈÅóÂùÄÔºâ„ÄÇ",
                food: "ÈïøÊò•Ôºö‰∏úÂåóËèú„ÄÅÊúùÈ≤úÊóèÁæéÈ£ü„ÄÅÈîÖÂåÖËÇâ„ÄÅÂÜ∑Èù¢",
                ticket: "‰º™Êª°ÁöáÂÆ´Ôºö¬•80/‰∫∫ÔºåÂáÄÊúàÊΩ≠Ôºö¬•30/‰∫∫",
                bestTime: "17:00-19:00 Â∏ÇÂå∫Â§úÊôØÔºå18:00-20:00 ‰º™Êª°ÁöáÂÆ´"
            },
            {
                d: 1, title: "ÈïøÊò• ‚Üí ‰∫åÈÅìÁôΩÊ≤≥ÔºàÈïøÁôΩÂ±±ÈïáÔºâ", start: "ÈïøÊò•", end: "ÈïøÁôΩÂ±±", distance: 350, hours: 5.5,
                plan: ["Êó©È§êÂêéÂá∫ÂèëÔºå‰∏äÈïøÂêâÈ´òÈÄü‚ÄîÊäöÈïøÈ´òÈÄü", "ÈÄîÁªèÊäöÊùæ„ÄÅÈùñÂÆá", "ÊôöÊäµ‰∫åÈÅìÁôΩÊ≤≥ÂäûÁêÜÂÖ•‰Ωè"],
                cityMetro: "ÈïøÊò•Âú∞ÈìÅÔºöÂ¶ÇÂ∏ÇÂå∫ÂèñËΩ¶ÂèØ‰πòÂú∞ÈìÅ1/2Âè∑Á∫øËá≥ËøëÁ´ôÔºà‰∫∫Ê∞ëÂπøÂú∫/Ëß£ÊîæÂ§ßË∑ØÔºâÂêéÊ≠•Ë°åÂèñËΩ¶",
                alt: "ÂÖ¨ÂÖ±‰∫§ÈÄöÔºöÈïøÊò•‚ÜíÁôΩÊ≤≥È´òÈìÅÔºà2.5hÔºâÔºåÁôΩÊ≤≥Á´ôÊãºËΩ¶/ÊâìËΩ¶Ëá≥ÈÖíÂ∫ó",
                stay: "‰∫åÈÅìÁôΩÊ≤≥ÈïáÂÜÖÊ∏©Ê≥âÈÖíÂ∫óÔºàÂª∫ËÆÆÔºöÂ∏åÂ∞îÈ°øÊ¨¢Êúã/‰∏áËææÂ∞èÈïáÊ∞ëÂÆøÔºâ",
                photoTip: "ÂÇçÊôöÂú®‰∫åÈÅìÁôΩÊ≤≥ÈïáÊãçÂüéÂ∏Ç‰∏éÂ±±ÊôØËøáÊ∏°ÔºåÈõ®ÂêéË∑ØÈù¢ÂèçÂÖâÈÄÇÂêàË°óÊãç„ÄÇ",
                notice: "È´òÈÄüË∑ØÁ®ãËæÉÈïøÔºåÂª∫ËÆÆÂú®ÊäöÊùæÊàñÈùñÂÆáË°•ÁªôÔºõÊôöÂà∞Ê≥®ÊÑèÊ¨°Êó•Êó©Ëµ∑ËøõÂ±±„ÄÇ",
                food: "‰∫åÈÅìÁôΩÊ≤≥ÔºöÊúùÈ≤úÊóèÂÜ∑Èù¢„ÄÅÁü≥ÈîÖÊãåÈ•≠„ÄÅÂ±±ÈáéËèú",
                ticket: "ÈïøÁôΩÂ±±ÂåóÂù°Ôºö¬•125/‰∫∫ÔºåÁéØ‰øùËΩ¶¬•85/‰∫∫",
                bestTime: "9:00-15:00 Â§©Ê±†ÊúÄ‰Ω≥ËßÇËµèÊó∂Èó¥"
            },
            {
                d: 2, title: "ÈïøÁôΩÂ±±‰∏ÄÊó•ÔºàÂåóÂù°/Ë•øÂù°Ôºâ", start: "ÈïøÁôΩÂ±±", end: "ÈïøÁôΩÂ±±", distance: 60, hours: 2,
                plan: ["Êó©ÂÖ•Âõ≠‰πòÁéØ‰øùËΩ¶‰∏äÂ±±", "Â§©Ê±†‚ÄîÁÄëÂ∏É‚ÄîÊ∏©Ê≥âÁæ§‚ÄîË∞∑Â∫ïÊ£ÆÊûóÔºàÂåóÂù°Ôºâ", "Ëã•‰ΩìÂäõÂÖÅËÆ∏‰∏ãÂçàËµ∞Ë•øÂù°Âè∞Èò∂ËßÇÊôØ"],
                cityMetro: "‚Äî",
                alt: "Âõ≠Âå∫ÁéØ‰øùËΩ¶Âæ™ÁéØÔºåÂõ≠ÂÜÖ‰∫§ÈÄö‰æøÂà©",
                stay: "‰∫åÈÅìÁôΩÊ≤≥ÂêåÂâç‰∏ÄÊôö",
                photoTip: "Â§©Ê±†ÂÆú‰∏äÂçàÈ°∫ÂÖâÊàñ‰∫ëÊµ∑ÔºåÁÄëÂ∏É‰ΩøÁî®1/8‚Äì1sÊÖ¢Èó®ÔºõË•øÂù°‰∏ãÂçà‰æßÂÖâÔºåÂ±ÇÊ¨°Êõ¥Â•Ω„ÄÇ",
                notice: "ÂçÅ‰∏ÄÊó∫Â≠£ÈúÄÊèêÂâçÈ¢ÑÁ∫¶ÔºõÂ±±È°∂‰ΩìÊÑü‰ΩéÊ∏©Â§ßÔºåÂ§áÂÜ≤ÈîãË°£‰∏éÈõ®ÂÖ∑„ÄÇ",
                food: "ÈïøÁôΩÂ±±ÔºöÊ∏©Ê≥âÁÖÆËõã„ÄÅÂ±±ÈáéËèú„ÄÅÈáéÁîüËèåÊ±§",
                ticket: "Ë•øÂù°Ôºö¬•125/‰∫∫ÔºåÁéØ‰øùËΩ¶¬•85/‰∫∫ÔºàÂèØÈÄâÔºâ",
                bestTime: "6:00-10:00 Â§©Ê±†ÊúÄ‰Ω≥ÂÖâÁ∫øÔºå14:00-17:00 Ë•øÂù°ËßÇÊôØ"
            },
            {
                d: 3, title: "ÈïøÁôΩÂ±± ‚Üí Áè≤Êò•Ôºà‰∏âÂõΩ‰∫§ÁïåÔºâ", start: "ÈïøÁôΩÂ±±", end: "Áè≤Êò•", distance: 280, hours: 4.5,
                plan: ["Êó©È§êÂêéÂá∫ÂèëÔºåÊ≤øG331ÂõΩÈÅìÂâçÂæÄÁè≤Êò•", "‰∏ãÂçàÊ∏∏ËßàÈò≤Â∑ùÊôØÂå∫Ôºå‰∏âÂõΩ‰∫§ÁïåËßÇÊôØÂè∞"],
                cityMetro: "‚Äî",
                alt: "ÈïøÁôΩÂ±±‚ÜíÁè≤Êò•ÂèØÈÄâÂåÖËΩ¶ÊàñÊãºËΩ¶",
                stay: "Áè≤Êò•Â∏ÇÂå∫ÈÖíÂ∫óÔºàÂª∫ËÆÆÔºöÁè≤Êò•ÂõΩÈôÖÈÖíÂ∫ó/ËæπÂ¢ÉÈÖíÂ∫óÔºâ",
                photoTip: "Èò≤Â∑ùËßÇÊôØÂè∞ÂèØÊãç‰∏âÂõΩ‰∫§ÁïåÈ£éÂÖâÔºåÁïåÊ±üÊó•ËêΩÊó∂ÂàÜÊúÄÁæé„ÄÇ",
                notice: "ËæπÂ¢ÉÂú∞Âå∫ÈúÄÊê∫Â∏¶Ë∫´‰ªΩËØÅÔºåÊ≥®ÊÑèËæπÂ¢ÉÁÆ°ÁêÜËßÑÂÆö„ÄÇ",
                food: "Áè≤Êò•ÔºöÊúùÈ≤úÊóèÁâπËâ≤Ëèú„ÄÅËæπÂ¢ÉÁæéÈ£ü„ÄÅÂÜ∑Ê∞¥È±º",
                ticket: "Èò≤Â∑ùÊôØÂå∫Ôºö¬•80/‰∫∫",
                bestTime: "16:00-18:00 ÁïåÊ±üÊó•ËêΩÔºå17:00-19:00 ‰∏âÂõΩ‰∫§ÁïåËßÇÊôØ"
            },
            {
                d: 4, title: "Áè≤Êò• ‚Üí ËôéÊûóÔºàÁèçÂÆùÂ≤õÔºâ", start: "Áè≤Êò•", end: "ËôéÊûó", distance: 320, hours: 5,
                plan: ["Ê≤øG331ÂõΩÈÅìÂâçÂæÄËôéÊûó", "‰∏ãÂçàÊ∏∏ËßàÁèçÂÆùÂ≤õÊôØÂå∫Ôºå‰πåËãèÈáåÊ±üÈ£éÂÖâ"],
                cityMetro: "‚Äî",
                alt: "Áè≤Êò•‚ÜíËôéÊûóÂª∫ËÆÆËá™È©æÔºåÊ≤øÈÄîÈ£éÊôØ‰ºòÁæé",
                stay: "ËôéÊûóÂ∏ÇÂå∫ÈÖíÂ∫óÔºàÂª∫ËÆÆÔºöËôéÊûóÂÆæÈ¶Ü/ËæπÂ¢ÉÈÖíÂ∫óÔºâ",
                photoTip: "ÁèçÂÆùÂ≤õÂèØÊãç‰πåËãèÈáåÊ±üÈ£éÂÖâÔºåÂÇçÊôöÊ±üÈù¢ÂÄíÂΩ±ÊúÄÁæé„ÄÇ",
                notice: "ËæπÂ¢ÉÂú∞Âå∫Ê≥®ÊÑèÂÆâÂÖ®ÔºåÈÅµÂÆàÂΩìÂú∞ËßÑÂÆö„ÄÇ",
                food: "ËôéÊûóÔºö‰∏úÂåóÂÜúÂÆ∂Ëèú„ÄÅÂÜ∑Ê∞¥È±º„ÄÅËæπÂ¢ÉÁâπËâ≤",
                ticket: "ÁèçÂÆùÂ≤õÊôØÂå∫Ôºö¬•60/‰∫∫",
                bestTime: "16:00-18:00 ‰πåËãèÈáåÊ±üÊó•ËêΩÔºå17:00-19:00 ÁèçÂÆùÂ≤õËßÇÊôØ"
            },
            {
                d: 5, title: "ËôéÊûó ‚Üí È•∂Ê≤≥ ‚Üí ÊäöËøúÔºà‰∏úÊûÅÂπøÂú∫Ôºâ", start: "ËôéÊûó", end: "ÊäöËøú", distance: 380, hours: 6,
                plan: ["‰∏äÂçàÈ•∂Ê≤≥‰πåËãèÈáåÊ±üÈ£éÂÖâ", "‰∏ãÂçàÂâçÂæÄÊäöËøúÔºåÊ∏∏Ëßà‰∏úÊûÅÂπøÂú∫„ÄÅÈªëÁûéÂ≠êÂ≤õ"],
                cityMetro: "‚Äî",
                alt: "ËôéÊûó‚ÜíÊäöËøúÂª∫ËÆÆËá™È©æÔºåÊ≤øÈÄîË°•ÁªôÁÇπËæÉÂ∞ë",
                stay: "ÊäöËøúÂ∏ÇÂå∫ÈÖíÂ∫óÔºàÂª∫ËÆÆÔºöÊäöËøúÂÆæÈ¶Ü/‰∏úÊûÅÈÖíÂ∫óÔºâ",
                photoTip: "‰∏úÊûÅÂπøÂú∫ÂèØÊãçÊó•Âá∫ÔºåÈªëÁûéÂ≠êÂ≤õÁïåÊ±üÈ£éÂÖâÁã¨Áâπ„ÄÇ",
                notice: "‰∏úÊûÅÂú∞Âå∫ÊòºÂ§úÊ∏©Â∑ÆÂ§ßÔºåÊ≥®ÊÑè‰øùÊöñÔºõËæπÂ¢ÉÂú∞Âå∫ÈúÄËØÅ‰ª∂„ÄÇ",
                food: "ÊäöËøúÔºöËµ´Âì≤ÊóèÁâπËâ≤Ëèú„ÄÅÂÜ∑Ê∞¥È±º„ÄÅËæπÂ¢ÉÁæéÈ£ü",
                ticket: "‰∏úÊûÅÂπøÂú∫ÔºöÂÖçË¥πÔºåÈªëÁûéÂ≠êÂ≤õÔºö¬•80/‰∫∫",
                bestTime: "5:00-7:00 ‰∏úÊûÅÊó•Âá∫Ôºå16:00-18:00 ÁïåÊ±üÊó•ËêΩ"
            },
            {
                d: 6, title: "ÊäöËøú ‚Üí ÂêåÊ±üÔºà‰∏âÊ±üÂè£Ôºâ", start: "ÊäöËøú", end: "ÂêåÊ±ü", distance: 200, hours: 3,
                plan: ["‰∏äÂçàÊäöËøúË°•Êãç", "‰∏ãÂçàÂâçÂæÄÂêåÊ±üÔºåÊ∏∏Ëßà‰∏âÊ±üÂè£ÊôØÂå∫"],
                cityMetro: "‚Äî",
                alt: "ÊäöËøú‚ÜíÂêåÊ±üÂª∫ËÆÆËá™È©æÔºåË∑ØÂÜµËâØÂ•Ω",
                stay: "ÂêåÊ±üÂ∏ÇÂå∫ÈÖíÂ∫óÔºàÂª∫ËÆÆÔºöÂêåÊ±üÂÆæÈ¶Ü/ËæπÂ¢ÉÈÖíÂ∫óÔºâ",
                photoTip: "‰∏âÊ±üÂè£ÂèØÊãçÈªëÈæôÊ±ü„ÄÅÊùæËä±Ê±ü„ÄÅ‰πåËãèÈáåÊ±üÊ±áÂêàÂ•áËßÇ„ÄÇ",
                notice: "‰∏âÊ±üÂè£È£éÂ§ßÔºåÊ≥®ÊÑèËÆæÂ§áÁ®≥ÂÆöÔºõËµ´Âì≤ÊóèÊñáÂåñ‰ΩìÈ™å„ÄÇ",
                food: "ÂêåÊ±üÔºöËµ´Âì≤ÊóèÁâπËâ≤Ëèú„ÄÅ‰∏âÊ±üÈ±º„ÄÅËæπÂ¢ÉÁæéÈ£ü",
                ticket: "‰∏âÊ±üÂè£ÊôØÂå∫Ôºö¬•50/‰∫∫",
                bestTime: "16:00-18:00 ‰∏âÊ±üÂè£Êó•ËêΩÔºå17:00-19:00 Ê±áÂêàÂ§ÑËßÇÊôØ"
            },
            {
                d: 7, title: "ÂêåÊ±ü ‚Üí ÈªëÊ≤≥ÔºàÁïåÊ±üÈ£éÂÖâÔºâ", start: "ÂêåÊ±ü", end: "ÈªëÊ≤≥", distance: 450, hours: 6.5,
                plan: ["Ê≤øG331ÂõΩÈÅìÂâçÂæÄÈªëÊ≤≥", "‰∏ãÂçàÊ∏∏ËßàÈªëÊ≤≥Âè£Â≤∏ÔºåËøúÊúõÂØπÂ≤∏Â∏ÉÊãâÊààÁª¥Áî≥ÊñØÂÖã"],
                cityMetro: "‚Äî",
                alt: "ÂêåÊ±ü‚ÜíÈªëÊ≤≥Âª∫ËÆÆËá™È©æÔºåÊ≤øÈÄîË°•ÁªôÁÇπÂàÜÊï£",
                stay: "ÈªëÊ≤≥Âè£Â≤∏Âë®ËæπÈÖíÂ∫óÔºàÂª∫ËÆÆÔºöÈî¶Ê±ü/ÂÖ®Â≠£Ôºâ",
                photoTip: "ÈªëÊ≤≥Âè£Â≤∏Êó•ËêΩÂà∞ËìùË∞ÉËøáÊ∏°ÂëàÁé∞ÈáëÊ©ô‰∏éÂÜ∑ËìùÂØπÊØîÔºõÁïåÊ±üËøúÊôØÊõ¥ÂÖ∑Â±ÇÊ¨°„ÄÇ",
                notice: "Ë°åÁ®ãËæÉÈïøÔºåÊ≤øÈÄîË°•ÁªôÁÇπÂàÜÊï£ÔºåÂä°ÂøÖÂú®‰∏≠ÊÆµÈïáÂå∫Ë°•Ê≤πÔºõÂ§úÈó¥ÂÖ•ÂüéÂáèÈÄüÊ≥®ÊÑèÁîµÂ≠êÁúº„ÄÇ",
                food: "ÈªëÊ≤≥Ôºö‰øÑÂºèÈù¢ÂåÖ„ÄÅËæπÂ¢ÉÁâπËâ≤Ëèú„ÄÅÂÜ∑Ê∞¥È±º",
                ticket: "ÈªëÊ≤≥Âè£Â≤∏Ôºö¬•30/‰∫∫ÔºàËßÇÊôØÂè∞Ôºâ",
                bestTime: "17:30-19:00 ÁïåÊ±üÊó•ËêΩÔºå19:00-20:30 Âè£Â≤∏Â§úÊôØ"
            },
            {
                d: 8, title: "ÈªëÊ≤≥ ‚Üí ‰∫îÂ§ßËøûÊ±†ÔºàÁÅ´Â±±Áæ§Ôºâ", start: "ÈªëÊ≤≥", end: "‰∫îÂ§ßËøûÊ±†", distance: 280, hours: 4,
                plan: ["‰∏äÂçàÈªëÊ≤≥Ë°•Êãç", "‰∏ãÂçàÂâçÂæÄ‰∫îÂ§ßËøûÊ±†ÔºåÊ∏∏ËßàÁÅ´Â±±Áæ§„ÄÅÊ∏©Ê≥ä"],
                cityMetro: "‚Äî",
                alt: "ÈªëÊ≤≥‚Üí‰∫îÂ§ßËøûÊ±†Âª∫ËÆÆËá™È©æÔºåË∑ØÂÜµËâØÂ•Ω",
                stay: "‰∫îÂ§ßËøûÊ±†Â∏ÇÂå∫/ÊôØÂå∫ÂÜÖÊ∞ëÂÆø",
                photoTip: "ÁÅ´Â±±Áæ§ÊúÄ‰Ω≥‰∏∫ÂÇçÊôö‰æßÂÖâÔºåÈïøÁÑ¶ÊçïÊçâÁÅ´Â±±ËΩÆÂªìÔºõÊ∏©Ê≥äÂÄíÂΩ±ÊúÄÁæé„ÄÇ",
                notice: "Á©øË∂äÊûóÂå∫Ê≥®ÊÑèÈôêÈÄü‰∏éÂä®Áâ©Á©øË°åÔºåÂª∫ËÆÆÂä†Êª°Ê≤πÂêéÂÖ•Êûó„ÄÇ",
                food: "‰∫îÂ§ßËøûÊ±†ÔºöÂ±±ÈáéËèú„ÄÅÈáéÁîüËèå„ÄÅÊûóÂå∫ÁâπËâ≤ÁÇñËèú",
                ticket: "‰∫îÂ§ßËøûÊ±†ÊôØÂå∫Ôºö¬•120/‰∫∫",
                bestTime: "16:00-18:00 ÁÅ´Â±±Áæ§ÊúÄ‰Ω≥ÂÖâÁ∫øÔºå19:00-21:00 Ê∏©Ê≥äÂÄíÂΩ±"
            },
            {
                d: 9, title: "‰∫îÂ§ßËøûÊ±† ‚Üí Êº†Ê≤≥ÔºàÊúÄÂåóÂú∞Ê†áÔºâ", start: "‰∫îÂ§ßËøûÊ±†", end: "Êº†Ê≤≥", distance: 580, hours: 8,
                plan: ["Ê≤øG331ÂõΩÈÅìÂâçÂæÄÊº†Ê≤≥", "‰∏ãÂçàÊ∏∏ËßàÂåóÊûÅÊùëÔºåÊâìÂç°ÊúÄÂåóÂú∞Ê†á"],
                cityMetro: "‚Äî",
                alt: "‰∫îÂ§ßËøûÊ±†‚ÜíÊº†Ê≤≥Âª∫ËÆÆËá™È©æÔºåÊ≤øÈÄîË°•ÁªôÁÇπËæÉÂ∞ë",
                stay: "ÂåóÊûÅÊùëÂÆ¢Ê†àÔºàÂª∫ËÆÆÔºöÊúÄÂåó‰∏ÄÂÆ∂/ÂåóÊûÅÊòüÂÆ¢Ê†àÔºâ",
                photoTip: "ÂåóÊûÅÊùëÁôΩÊ°¶ÊûóÈÄÜÂÖâÊãçÂè∂ÁâáÈÄè‰∫ÆÔºõÊúÄÂåóÂú∞Ê†áÊ∏ÖÊô®Â∞ë‰∫∫Â•ΩÊãç„ÄÇ",
                notice: "ÁïåÊ±üÊ≤øÁ∫øË°•ÁªôÁ®ÄÁñèÔºåËØ∑Âú®ÈÄäÂÖãÊàñÂ°îÊ≤≥ÂâçË°•Ê≤πÔºõÁïôÊÑèÈÉ®ÂàÜÊµãÈÄü‰∏é‰∏¥Êó∂ÁÆ°Âà∂„ÄÇ",
                food: "Êº†Ê≤≥Ôºö‰∏úÂåóÂÜúÂÆ∂Ëèú„ÄÅÂ±±ÈáéËèú„ÄÅÂÜ∑Ê∞¥È±º",
                ticket: "ÂåóÊûÅÊùëÔºö¬•60/‰∫∫",
                bestTime: "14:00-16:00 ÁôΩÊ°¶ÊûóÊúÄ‰Ω≥ÂÖâÁ∫øÔºå18:00-20:00 ÂåóÊûÅÊùëÊó•ËêΩ"
            },
            {
                d: 10, title: "Êº†Ê≤≥ ‚Üí Ê†πÊ≤≥ÔºàÂ§ßÂÖ¥ÂÆâÂ≤≠Ôºâ", start: "Êº†Ê≤≥", end: "Ê†πÊ≤≥", distance: 320, hours: 5,
                plan: ["‰∏äÂçàÊº†Ê≤≥Ë°•Êãç", "‰∏ãÂçàÂâçÂæÄÊ†πÊ≤≥ÔºåÁ©øË∂äÂ§ßÂÖ¥ÂÆâÂ≤≠ÊûóÊµ∑"],
                cityMetro: "‚Äî",
                alt: "Êº†Ê≤≥‚ÜíÊ†πÊ≤≥Âª∫ËÆÆËá™È©æÔºåÊ≤øÈÄîÈ£éÊôØ‰ºòÁæé",
                stay: "Ê†πÊ≤≥Â∏ÇÂå∫ÂïÜÂä°ÈÖíÂ∫ó/Ê∞ëÂÆø",
                photoTip: "Ê≤øÁ∫øÊûóÊµ∑ÁöÑÂ§ßÂ∞∫Â∫¶SÂºØÂíåËΩ¶ÊµÅÊãñÂΩ±ÈÄÇÂêàÂª∂Êó∂ÊãçÊëÑÔºõÂÜ∑ÊûÅÊùëÂú∞Ê†áÁ∫™ÂøµÁÖß„ÄÇ",
                notice: "ËøûÁª≠È©æÈ©∂Êó∂ÈïøÈïøÔºåÂª∫ËÆÆ‰∏§‰∫∫ËΩÆÊç¢ÔºõÊ≥®ÊÑèÂØºËà™Áõ≤Âå∫ÊèêÂâç‰∏ãËΩΩÁ¶ªÁ∫øÂú∞Âõæ„ÄÇ",
                food: "Ê†πÊ≤≥ÔºöÊûóÂå∫ÁâπËâ≤Ëèú„ÄÅÈáéÁîüËèå„ÄÅÂÜ∑Ê∞¥È±º",
                ticket: "ÂÜ∑ÊûÅÊùëÔºö¬•30/‰∫∫",
                bestTime: "ÂÖ®Â§©ÈÄÇÂêàÊûóÊµ∑ÊãçÊëÑÔºåÂÇçÊôöÊúÄ‰Ω≥"
            },
            {
                d: 11, title: "Ê†πÊ≤≥ ‚Üí È¢ùÂ∞îÂè§Á∫≥ÔºàÊπøÂú∞È£éÂÖâÔºâ", start: "Ê†πÊ≤≥", end: "È¢ùÂ∞îÂè§Á∫≥", distance: 270, hours: 4,
                plan: ["‰∏äÂçàÊïñÈ≤ÅÂè§ÈõÖ‰ΩøÈπøÈÉ®ËêΩÔºàÂèØÈÄâÔºâ", "‰∏ãÂçàÂâçÂæÄÈ¢ùÂ∞îÂè§Á∫≥ÔºåÊ∏∏ËßàÊπøÂú∞È£éÂÖâ"],
                cityMetro: "‚Äî",
                alt: "Ê†πÊ≤≥‚ÜíÈ¢ùÂ∞îÂè§Á∫≥Âª∫ËÆÆËá™È©æÔºåË∑ØÂÜµËâØÂ•Ω",
                stay: "È¢ùÂ∞îÂè§Á∫≥Â∏ÇÂå∫/Ê†πÊ≤≥ÊπøÂú∞ÊôØÂå∫Âë®ËæπÊ∞ëÂÆø",
                photoTip: "ÁôΩÊ°¶ÊûóÈÄÜÂÖâ/‰æßÈÄÜÂÖâÊãçÂè∂ÁâáÁ∫πÁêÜÔºõÊπøÂú∞ËßÇÊôØÂè∞Êó•ËêΩÈªÑÈáëÊó∂ÂàÜËâ≤Â±ÇÊúÄÂ•Ω„ÄÇ",
                notice: "ÁôªÈ´òÊãçÊëÑÊ≥®ÊÑèÈò≤È£é‰øùÊöñÔºõÊπøÂú∞ËöäËô´ËæÉÂ§öÔºåÂ§áÈò≤ËöäÁî®ÂìÅ„ÄÇ",
                food: "È¢ùÂ∞îÂè§Á∫≥ÔºöËíôÂè§ÊóèÁâπËâ≤Ëèú„ÄÅÊâãÊâíËÇâ„ÄÅÂ•∂Ëå∂",
                ticket: "È¢ùÂ∞îÂè§Á∫≥ÊπøÂú∞Ôºö¬•80/‰∫∫",
                bestTime: "16:00-18:00 ÊπøÂú∞Êó•ËêΩÔºå18:00-20:00 ÁôΩÊ°¶ÊûóÈÄÜÂÖâ"
            },
            {
                d: 12, title: "È¢ùÂ∞îÂè§Á∫≥ ‚Üí Êµ∑ÊãâÂ∞îÔºàËçâÂéüÈ£éÊÉÖÔºâ", start: "È¢ùÂ∞îÂè§Á∫≥", end: "Êµ∑ÊãâÂ∞î", distance: 180, hours: 3,
                plan: ["‰∏äÂçàÈ¢ùÂ∞îÂè§Á∫≥Ë°•Êãç", "‰∏ãÂçàÂâçÂæÄÊµ∑ÊãâÂ∞îÔºåÊ∏∏ËßàËé´Êó•Ê†ºÂãíÊ≤≥"],
                cityMetro: "‚Äî",
                alt: "È¢ùÂ∞îÂè§Á∫≥‚ÜíÊµ∑ÊãâÂ∞îÂª∫ËÆÆËá™È©æÔºåË∑ØÂÜµËâØÂ•Ω",
                stay: "Êµ∑ÊãâÂ∞îÂ∏Ç‰∏≠ÂøÉÈÖíÂ∫óÔºàÂª∫ËÆÆÔºö‰∏áËææÂòâÂçé/ÂáØÊÇ¶ÂòâËΩ©Ôºâ",
                photoTip: "Ëé´Êó•Ê†ºÂãíÊ≤≥‰ªéÈ´òÁÇπÊâæSÂºØÊûÑÂõæÔºåÂéã‰ΩéÂú∞Âπ≥Á∫øÔºõËçâÂéüÊó•ËêΩÂ£ÆËßÇ„ÄÇ",
                notice: "ËçâÂéüÊòºÂ§úÊ∏©Â∑ÆÂ§ßÔºåÈ£éÂ§ßÊó∂Ê≥®ÊÑèÁ®≥ÂÆöËÆæÂ§áÔºõ‰π°ÈÅìÈôêÈÄü‰∏•Ê†ºÔºåËØ∑ÈÅµÂÆàÈôêÈÄüÁâå„ÄÇ",
                food: "Êµ∑ÊãâÂ∞îÔºöËíôÂè§ÊóèÁâπËâ≤Ëèú„ÄÅÊâãÊâíËÇâ„ÄÅÂ•∂Ëå∂„ÄÅÁÉ§ÂÖ®Áæä",
                ticket: "Ëé´Êó•Ê†ºÂãíÊ≤≥Ôºö¬•60/‰∫∫",
                bestTime: "17:00-19:00 Ëé´Êó•Ê†ºÂãíÊ≤≥Êó•ËêΩÔºå18:00-20:00 ËçâÂéüÊó•ËêΩ"
            },
            {
                d: 13, title: "Êµ∑ÊãâÂ∞î ‚Üí ÈòøÂ∞îÂ±±ÔºàÁÅ´Â±±Â§©Ê±†Ôºâ", start: "Êµ∑ÊãâÂ∞î", end: "ÈòøÂ∞îÂ±±", distance: 270, hours: 4,
                plan: ["‰∏äÂçàÊµ∑ÊãâÂ∞îË°•Êãç", "‰∏ãÂçàÂâçÂæÄÈòøÂ∞îÂ±±ÔºåÊ∏∏ËßàÂ§©Ê±†„ÄÅÁü≥Â°òÊûó"],
                cityMetro: "‚Äî",
                alt: "Êµ∑ÊãâÂ∞î‚ÜíÈòøÂ∞îÂ±±Âª∫ËÆÆËá™È©æÔºåË∑ØÂÜµËâØÂ•Ω",
                stay: "ÈòøÂ∞îÂ±±Ê∏©Ê≥âÈÖíÂ∫ó/ÂÖ¨Âõ≠Âë®ËæπÊ∞ëÂÆø",
                photoTip: "Â§©Ê±†Ê∏ÖÊô®È£éÂ∞èÊ∞¥Èù¢ÈïúÂÉèÂ•ΩÔºõÁü≥Â°òÊûóËøëÊôØÁ∫πÁêÜ+ËøúÊôØÂΩ©ÊûóÂØπÊØî„ÄÇ",
                notice: "ÁúÅÈÅìË∑ØÂÜµËâØÂ•Ω‰ΩÜÊµãÈÄüËæÉÂ§öÔºå‰øùÊåÅÈôêÈÄüÔºõÊôöÈó¥Ê∏©Â∑ÆÂ§ßÔºåÂáÜÂ§á‰øùÊöñË°£Áâ©„ÄÇ",
                food: "ÈòøÂ∞îÂ±±ÔºöÂ±±ÈáéËèú„ÄÅÈáéÁîüËèå„ÄÅÊ∏©Ê≥âÁÖÆËõã",
                ticket: "ÈòøÂ∞îÂ±±ÂõΩÂÆ∂Ê£ÆÊûóÂÖ¨Âõ≠Ôºö¬•180/‰∫∫Ôºà48Â∞èÊó∂ÊúâÊïàÔºâ",
                bestTime: "6:00-10:00 Â§©Ê±†ÊúÄ‰Ω≥ÂÖâÁ∫øÔºå14:00-17:00 Áü≥Â°òÊûó"
            },
            {
                d: 14, title: "ÈòøÂ∞îÂ±± ‚Üí ÂêÑÂú∞ËøîÁ®ã", start: "ÈòøÂ∞îÂ±±", end: "ÂêÑÂú∞", distance: 0, hours: 0,
                plan: ["ÈòøÂ∞îÂ±±Ëá™Áî±Ê¥ªÂä®", "Êï¥ÁêÜË°åÊùé", "ÂêÑËá™ËøîÁ®ã"],
                cityMetro: "‚Äî",
                alt: "ÈòøÂ∞îÂ±±Êú∫Âú∫ÊúâËà™Áè≠Ëá≥Âåó‰∫¨„ÄÅÂëºÂíåÊµ©ÁâπÁ≠âÂú∞",
                stay: "‚Äî",
                photoTip: "ÈòøÂ∞îÂ±±Êô®ÈõæÔºåÁÅ´Â±±Âú∞Ë≤åÔºåÊ£ÆÊûóÈ£éÂÖâ„ÄÇ",
                notice: "ÊèêÂâçÁ°ÆËÆ§ËøîÁ®ã‰∫§ÈÄöÔºåÊ≥®ÊÑèÂ§©Ê∞îÂèòÂåñ„ÄÇ<br><strong>üí° ËøîÁ®ãÂª∫ËÆÆÔºö</strong>Â¶ÇÈÅá‰∫§ÈÄö‰∏ç‰æøÔºåÂèØËÄÉËôëÁ¨¨13Â§©ËøîÂõûÊµ∑ÊãâÂ∞îÂÜçËøîÁ®ãÔºà270ÂÖ¨ÈáåÔºå4Â∞èÊó∂ËΩ¶Á®ãÔºåÊµ∑ÊãâÂ∞îÊúâÁõ¥È£û‰∏äÊµ∑Ëà™Áè≠Ôºâ„ÄÇ",
                food: "ÈòøÂ∞îÂ±±ÔºöÂ±±ÈáéËèú„ÄÅÈáéÁîüËèå„ÄÅÊ∏©Ê≥âÁÖÆËõã",
                ticket: "‚Äî",
                bestTime: "6:00-8:00 Êô®ÈõæÊãçÊëÑÔºåÂÖ®Â§©Ëá™Áî±Ê¥ªÂä®"
            }
        ];

        function amapNavLink(fromName, toName) {
            const from = placeCoords[fromName];
            const to = placeCoords[toName];
            if (!from || !to) return '#';
            const fromStr = `${from[0]},${from[1]},${encodeURIComponent(fromName)}`;
            const toStr = `${to[0]},${to[1]},${encodeURIComponent(toName)}`;
            return `https://uri.amap.com/navigation?from=${fromStr}&to=${toStr}&mode=car&policy=1`;
        }

        function renderDayDetails() {
            const wrap = document.getElementById('dayDetails');
            wrap.innerHTML = '';
            tripDays.forEach(day => {
                const div = document.createElement('div');
                div.className = 'day-card';
                const navUrl = amapNavLink(day.start, day.end);
                const flightHtml = (day.flightLinks && day.flightLinks.length)
                    ? `<div class="cta-row">${day.flightLinks.map(f => `<a class=\"cta-btn secondary\" href=\"${f.url}\" target=\"_blank\" rel=\"noopener\">‚úàÔ∏è ${f.label}</a>`).join('')}</div>`
                    : '';
                div.innerHTML = `
                    <h3>Á¨¨${day.d}Â§©ÔΩú${day.title}</h3>
                    <div class="info-grid">
                        <div class="info-item"><b>Êó∂Èó¥ÂÆâÊéí</b><br>${day.plan.join('Ôºõ')}</div>
                        <div class="info-item"><b>Ëá™È©æ‰∫§ÈÄö</b><br>Á∫¶${day.distance}km ¬∑ È¢Ñ‰º∞${day.hours}Â∞èÊó∂</div>
                        <div class="info-item"><b>ÂÖ¨ÂÖ±‰∫§ÈÄö</b><br>${day.alt}</div>
                        <div class="info-item"><b>ÂüéÂ∏ÇÂú∞ÈìÅ/Â∏ÇÂÜÖ‰∫§ÈÄö</b><br>${day.cityMetro}</div>
                        <div class="info-item"><b>‰ΩèÂÆøÂª∫ËÆÆ</b><br>${day.stay}</div>
                        <div class="info-item"><b>ÁæéÈ£üÊé®Ëçê</b><br>${day.food || '‚Äî'}</div>
                        <div class="info-item"><b>Èó®Á•®‰ª∑Ê†º</b><br>${day.ticket || '‚Äî'}</div>
                        <div class="info-item"><b>ÊúÄ‰Ω≥Êó∂Èó¥</b><br>${day.bestTime || '‚Äî'}</div>
                    </div>
                    <div class="info-grid" style="margin-top:6px;">
                        <div class="info-item"><b>ÊëÑÂΩ±Âª∫ËÆÆ</b><br>${day.photoTip || '‚Äî'}</div>
                        <div class="info-item"><b>ÊèêÈÜí</b><br>${day.notice || '‚Äî'}</div>
                    </div>
                    <div class="cta-row">
                        <a class="cta-btn" href="${navUrl}" target="_blank" rel="noopener">üìç ‰∏ÄÈîÆÂØºËà™ÔºàÈ´òÂæ∑Ôºâ</a>
                        <button class="cta-btn secondary" onclick="focusOn('${day.start}','${day.end}')">Âú®ËΩ®ËøπÂõæ‰∏≠È´ò‰∫ÆÊú¨Êó•</button>
                    </div>
                    ${flightHtml}
                `;
                wrap.appendChild(div);
            });
        }

        // ËΩ®ËøπÂõæÊ∏≤Êüì
        // 13Â§©G331ËæπÂ¢ÉÂÖ¨Ë∑ØÁéØÁ∫øÔºöÈïøÊò•Âá∫ÂèëÔºåÈòøÂ∞îÂ±±Êî∂ÂÆò
        const trackCities = ["ÈïøÊò•", "ÈïøÁôΩÂ±±", "Áè≤Êò•", "ËôéÊûó", "È•∂Ê≤≥", "ÊäöËøú", "ÂêåÊ±ü", "ÈªëÊ≤≥", "‰∫îÂ§ßËøûÊ±†", "Êº†Ê≤≥", "Ê†πÊ≤≥", "È¢ùÂ∞îÂè§Á∫≥", "Êµ∑ÊãâÂ∞î", "ÈòøÂ∞îÂ±±"];

        // ÂüéÂ∏Ç-Â§©Êò†Â∞ÑÔºàÁî®‰∫éÊÆµË∑ù/Êó∂ÈïøÊ†áÊ≥®Ôºâ
        const legToDay = {
            "ÈïøÊò•-ÈïøÁôΩÂ±±": 1,
            "ÈïøÁôΩÂ±±-Áè≤Êò•": 3,
            "Áè≤Êò•-ËôéÊûó": 4,
            "ËôéÊûó-È•∂Ê≤≥": 5,
            "È•∂Ê≤≥-ÊäöËøú": 5,
            "ÊäöËøú-ÂêåÊ±ü": 6,
            "ÂêåÊ±ü-ÈªëÊ≤≥": 7,
            "ÈªëÊ≤≥-‰∫îÂ§ßËøûÊ±†": 8,
            "‰∫îÂ§ßËøûÊ±†-Êº†Ê≤≥": 9,
            "Êº†Ê≤≥-Ê†πÊ≤≥": 10,
            "Ê†πÊ≤≥-È¢ùÂ∞îÂè§Á∫≥": 11,
            "È¢ùÂ∞îÂè§Á∫≥-Êµ∑ÊãâÂ∞î": 12,
            "Êµ∑ÊãâÂ∞î-ÈòøÂ∞îÂ±±": 13
        };

        // ÊØèÂüéÁ≤æÈÄâÂõæÁâáÔºà1-3Âº†ÔºåÈÅøÂÖçÈáçÂ§çÈ£éÊ†ºÔºâ
        const poiBest = {
            "ÈïøÊò•": {
                best: "‰º™Êª°ÁöáÂÆ´/ÂáÄÊúàÊΩ≠/Ê±ΩËΩ¶Âüé", imgs: [
                    "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&w=1600&q=80",
                    "https://images.unsplash.com/photo-1501785888041-af3ef285b470?auto=format&w=1600&q=80"
                ]
            },

            "ÈïøÁôΩÂ±±": {
                best: "Â§©Ê±†/ÁÄëÂ∏É/Ê∏©Ê≥âÁæ§", imgs: [
                    "images/changbai-tianchi.png",
                    "https://dimg04.c-ctrip.com/images/100b0t000000iqxfj746E_R_10000_1200.jpg",
                    "https://images.unsplash.com/photo-1500043357865-c6b8827edf39?auto=format&w=1600&q=80"
                ]
            },
            "Áè≤Êò•": {
                best: "Èò≤Â∑ù/‰∏âÂõΩ‰∫§Áïå/ËæπÂ¢ÉÈ£éÂÖâ", imgs: [
                    "https://dimg04.c-ctrip.com/images/100k0t000000iqxfi1CBC_R_1600_10000.jpg",
                    "https://dimg04.c-ctrip.com/images/100j0t000000iqxfj746E_R_1600_10000.jpg"
                ]
            },
            "ËôéÊûó": {
                best: "ÁèçÂÆùÂ≤õ/‰πåËãèÈáåÊ±ü/ÊπøÂú∞È£éÂÖâ", imgs: [
                    "https://dimg04.c-ctrip.com/images/100h0t000000iqxfk1CBC_R_1600_10000.jpg",
                    "https://dimg04.c-ctrip.com/images/100g0t000000iqxfl746E_R_1600_10000.jpg"
                ]
            },
            "È•∂Ê≤≥": {
                best: "‰πåËãèÈáåÊ±ü/Ëµ´Âì≤ÊóèÊñáÂåñ/ËæπÂ¢ÉÈ£éÂÖâ", imgs: [
                    "https://dimg04.c-ctrip.com/images/100f0t000000iqxfm1CBC_R_1600_10000.jpg",
                    "https://dimg04.c-ctrip.com/images/100e0t000000iqxfn746E_R_1600_10000.jpg"
                ]
            },
            "ÊäöËøú": {
                best: "‰∏úÊûÅÂπøÂú∫/ÈªëÁûéÂ≠êÂ≤õ/ÁïåÊ±üÈ£éÂÖâ", imgs: [
                    "https://dimg04.c-ctrip.com/images/100d0t000000iqxfo1CBC_R_1600_10000.jpg",
                    "https://dimg04.c-ctrip.com/images/100c0t000000iqxfp746E_R_1600_10000.jpg"
                ]
            },
            "ÂêåÊ±ü": {
                best: "‰∏âÊ±üÂè£/Ëµ´Âì≤ÊóèÊñáÂåñ/ËæπÂ¢ÉÈ£éÂÖâ", imgs: [
                    "https://dimg04.c-ctrip.com/images/100b0t000000iqxfq1CBC_R_1600_10000.jpg",
                    "https://dimg04.c-ctrip.com/images/100a0t000000iqxfr746E_R_1600_10000.jpg"
                ]
            },

            "‰∫îÂ§ßËøûÊ±†": {
                best: "ÁÅ´Â±±Áæ§/Ê∏©Ê≥ä/Áü≥Êµ∑", imgs: [
                    "https://dimg04.c-ctrip.com/images/0106c12000j19xs7i1CBC_R_1600_10000.jpg",
                    "https://dimg04.c-ctrip.com/images/0105f12000f9qdwid0F63_R_1600_10000.jpg"
                ]
            },
            "ÈªëÊ≤≥": {
                best: "ÁïåÊ±üËêΩÊó•/Âè£Â≤∏Â§úÊôØ", imgs: [
                    "https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&w=1600&q=80",
                    "https://images.unsplash.com/photo-1500530855697-0671ae06d4a5?auto=format&w=1600&q=80"
                ]
            },

            "Êº†Ê≤≥": {
                best: "ÁôΩÊ°¶Êûó/ÈæôÊ±üÁ¨¨‰∏ÄÊπæ/ÊúÄÂåóÂú∞Ê†á", imgs: [
                    "https://dimg04.c-ctrip.com/images/0100h12000f6se7skAB64_C_1600_1200.jpg",
                    "https://dimg04.c-ctrip.com/images/100q0r000000gqmliE3FF_R_1600_10000.jpg"
                ]
            },
            "Ê†πÊ≤≥": {
                best: "ÊïñÈ≤ÅÂè§ÈõÖ‰ΩøÈπøÈÉ®ËêΩ/ÂÜ∑ÊûÅÊùë", imgs: [
                    "https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&w=1600&q=80",
                    "https://images.unsplash.com/photo-1491555103944-7c647fd857e6?auto=format&w=1600&q=80"
                ]
            },
            "È¢ùÂ∞îÂè§Á∫≥": {
                best: "È¢ùÂ∞îÂè§Á∫≥ÊπøÂú∞/Ê≤≥ÊµÅÂºØÊõ≤", imgs: [
                    "https://dimg04.c-ctrip.com/images/0101i120008obv8cy3844_R_1600_10000.jpg",
                    "https://dimg04.c-ctrip.com/images/10070t000000iqheq1725_R_1600_10000.jpg"
                ]
            },
            "Êµ∑ÊãâÂ∞î": {
                best: "Ëé´Êó•Ê†ºÂãíÊ≤≥/ËçâÂéüÊó•ËêΩ", imgs: [
                    "https://dimg04.c-ctrip.com/images/1lo3812000bfhar1e35C6_C_1600_1200.jpg"
                ]
            },

            "ÈòøÂ∞îÂ±±": {
                best: "Â§©Ê±†/Áü≥Â°òÊûó/ÁÅ´Â±±Âú∞Ë≤å", imgs: [
                    "https://dimg04.c-ctrip.com/images/1005180000015chbo1954_R_1600_10000.jpg",
                    "https://dimg04.c-ctrip.com/images/01047120008893lwzECA0_W_671_0_Q90.jpg?proc=autoorient",
                    "https://dimg04.c-ctrip.com/images/fd/tg/g4/M00/5E/12/CggYHlYzAkaANBf7ACYFUmAGuB4244_R_1600_10000.jpg"
                ]
            },

        };

        function project(points, w, h, padding = 100) {
            const xs = points.map(p => p[0]);
            const ys = points.map(p => p[1]);
            const minX = Math.min(...xs), maxX = Math.max(...xs);
            const minY = Math.min(...ys), maxY = Math.max(...ys);

            // Ë∞ÉÊï¥ÊäïÂΩ±ÊØî‰æãÔºåËÆ©Âú∞ÂõæÊõ¥Êé•ËøëÊ¢ØÂΩ¢/‰∏çËßÑÂàôÂΩ¢Áä∂
            const sx = (w - 2 * padding) / (maxX - minX);
            // Â¢ûÂä†YËΩ¥Áº©ÊîæÊØî‰æãÔºåËÆ©Âú∞ÂõæÊõ¥È´òÔºåÂπ∂Â¢ûÂä†È°∂ÈÉ®Á©∫Èó¥
            const sy = (h - 2 * padding) / (maxY - minY) * 1.0;

            return points.map(([x, y]) => [
                padding + (x - minX) * sx,
                // ÂèçËΩ¨YËΩ¥ÔºàÂåóÂú®‰∏äÔºâÔºåÂπ∂Â¢ûÂä†È°∂ÈÉ®paddingÁ°Æ‰øùÂÆåÊï¥ÊòæÁ§∫
                h - padding - (y - minY) * sy
            ]);
        }

        // ËÉåÊôØÂõæÁºìÂ≠ò
        let __bgImg = null;
        function renderTrack() {
            const canvas = document.getElementById('trackCanvas');
            const ctx = canvas.getContext('2d');
            // Â§ÑÁêÜÈ´òÂàÜÂ±è
            const cssW = canvas.clientWidth;
            const cssH = canvas.clientHeight;
            const ratio = window.devicePixelRatio || 1;
            canvas.width = cssW * ratio;
            canvas.height = cssH * ratio;
            ctx.scale(ratio, ratio);

            ctx.clearRect(0, 0, cssW, cssH);

            // Êñ∞ÁöÑËÉåÊôØËÆæËÆ°ÔºöÊ®°Á≥äËá™ÁÑ∂ÊôØËßÇËÉåÊôØ
            function drawBgThen() {
                if (__bgImg && __bgImg.complete) {
                    // cover ÁÆóÊ≥ïË£ÅÂâ™Èì∫Êª°
                    const imgW = __bgImg.naturalWidth, imgH = __bgImg.naturalHeight;
                    const scale = Math.max(cssW / imgW, cssH / imgH);
                    const dw = imgW * scale, dh = imgH * scale;
                    const dx = (cssW - dw) / 2, dy = (cssH - dh) / 2;
                    ctx.drawImage(__bgImg, dx, dy, dw, dh);

                    // Ê∑ªÂä†Ê®°Á≥äÊïàÊûúÂíåÊ∏êÂèòÈÅÆÁΩ©
                    const grd = ctx.createLinearGradient(0, 0, 0, cssH);
                    grd.addColorStop(0, 'rgba(0,0,0,0.15)');
                    grd.addColorStop(0.3, 'rgba(0,0,0,0.05)');
                    grd.addColorStop(0.7, 'rgba(0,0,0,0.05)');
                    grd.addColorStop(1, 'rgba(0,0,0,0.15)');
                    ctx.fillStyle = grd;
                    ctx.fillRect(0, 0, cssW, cssH);
                } else {
                    // Â§áÁî®ËÉåÊôØÔºöÊ∏êÂèòËá™ÁÑ∂Ëâ≤Ë∞É
                    const grd = ctx.createLinearGradient(0, 0, cssW, cssH);
                    grd.addColorStop(0, '#e8f4f8');
                    grd.addColorStop(0.5, '#f0f8f0');
                    grd.addColorStop(1, '#e8f4f8');
                    ctx.fillStyle = grd;
                    ctx.fillRect(0, 0, cssW, cssH);
                }
            }
            if (!__bgImg) {
                __bgImg = new Image();
                __bgImg.crossOrigin = 'anonymous';
                // ‰ΩøÁî®Êõ¥Ëá™ÁÑ∂ÁöÑÊôØËßÇËÉåÊôØ
                __bgImg.src = 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&w=1600&q=80';
                __bgImg.onload = () => renderTrack();
            }
            drawBgThen();

            const geo = trackCities.map(n => placeCoords[n]);
            const projAll = project(geo, cssW, cssH);
            const idx = (name) => trackCities.indexOf(name);

            // È©æËΩ¶‰∏ªËΩ®ËøπÔºàÊñ∞ËÆæËÆ°ÔºöËìùËâ≤Á∫øÊù° + ÁôΩËâ≤ÊèèËæπ + ÁôΩËâ≤ÂúÜÁÇπËäÇÁÇπÔºâ
            const proj = projAll;
            // ÁôΩËâ≤ÊèèËæπ
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 6;
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            drawSmoothPath(ctx, proj);
            // ‰∏ªËìùËâ≤Á∫ø
            ctx.strokeStyle = '#2563eb';
            ctx.lineWidth = 3;
            drawSmoothPath(ctx, proj);
            // ÁôΩËâ≤ÁÆ≠Â§¥ÊåáÁ§∫ÊñπÂêë
            for (let i = 0; i < proj.length - 1; i++) {
                const a = proj[i], b = proj[i + 1];
                drawArrow(ctx, a, b, '#ffffff');
            }

            // Ê†áÊ≥®ËäÇÁÇπÔºàÊñ∞ËÆæËÆ°ÔºöÁôΩËâ≤ÂúÜÁÇπ + ÈªÑËâ≤ÊñáÂ≠ó + ÁôΩËâ≤ÊèèËæπÔºâ
            ctx.fillStyle = '#2d3436';
            ctx.font = 'bold 14px sans-serif';
            window.__trackPoints = [];
            proj.forEach(([x, y], i) => {
                // ÁôΩËâ≤ÂúÜÁÇπËäÇÁÇπ
                ctx.beginPath();
                ctx.fillStyle = '#ffffff';
                ctx.arc(x, y, 5, 0, Math.PI * 2);
                ctx.fill();
                // ÁôΩËâ≤ÊèèËæπ
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 2;
                ctx.stroke();

                // ÈªÑËâ≤ÊñáÂ≠ó + ÁôΩËâ≤ÊèèËæπÂüéÂ∏ÇÊ†áÁ≠æ
                ctx.strokeStyle = '#ffffff';
                ctx.lineWidth = 3;
                ctx.strokeText(trackCities[i], x + 10, y - 10);
                ctx.fillStyle = '#fbbf24';
                ctx.fillText(trackCities[i], x + 10, y - 10);

                window.__trackPoints.push({ name: trackCities[i], x, y });
            });

            // Âú∞ÈìÅÁ§∫ÊÑèÂ∑≤ÁßªÈô§
            // ÊÆµË∑ùÁ¶ª‰∏éÊó∂ÈïøÊ†áÊ≥®ÔºàÊñ∞ËÆæËÆ°ÔºöÁÆÄÂåñÊ†áÁ≠æÔºåÂè™ÊòæÁ§∫ÂÖ≥ÈîÆ‰ø°ÊÅØÔºâ
            window.__trackLegs = [];
            for (let i = 0; i < trackCities.length - 1; i++) {
                const a = trackCities[i], b = trackCities[i + 1];
                const pa = proj[i], pb = proj[i + 1];
                let mx = (pa[0] + pb[0]) / 2, my = (pa[1] + pb[1]) / 2 + (i % 2 === 0 ? -15 : 15);
                const key = `${a}-${b}`;
                const dayIdx = legToDay[key];
                const day = tripDays.find(d => d.d === dayIdx);
                const directKm = Math.round(haversine(placeCoords[a], placeCoords[b]));

                // ÁÆÄÂåñÁöÑÁôΩËâ≤ËÉåÊôØÊ†áÁ≠æ
                ctx.fillStyle = 'rgba(255, 255, 255, 0.9)';
                ctx.strokeStyle = '#2563eb';
                ctx.lineWidth = 1;
                roundRect(ctx, mx - 25, my - 8, 50, 16, 8);
                ctx.fill();
                ctx.stroke();

                // ËìùËâ≤ÊñáÂ≠ó
                ctx.fillStyle = '#2563eb';
                ctx.font = 'bold 11px sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(`${directKm}km`, mx, my + 3);
                ctx.textAlign = 'left';

                window.__trackLegs.push({ a, b, mx, my, idx: i });
            }

            // ÊÄªÈáåÁ®ã/Êó∂Èó¥ËßíÊ†á
            try {
                const totalDriveKm = tripDays.reduce((s, d) => s + (d.distance || 0), 0);
                const totalDriveH = tripDays.reduce((s, d) => s + (d.hours || 0), 0);
                const hud = document.getElementById('trackHud');
                hud.textContent = `Ëá™È©æÊÄªÈáåÁ®ã ‚âà ${Math.round(totalDriveKm)} kmÔΩúÈ¢Ñ‰º∞ÊÄªÊó∂Èïø ‚âà ${totalDriveH.toFixed(1)} h`;
                hud.style.display = 'block';
            } catch (e) { /* ignore */ }
        }

        function offset([x, y], dx, dy) { return [x + dx, y + dy]; }

        function drawMetro(ctx, pts, color) {
            ctx.strokeStyle = color;
            ctx.lineWidth = 2;
            ctx.setLineDash([6, 4]);
            ctx.beginPath();
            pts.forEach(([x, y], i) => { if (i === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y); });
            ctx.stroke();
            ctx.setLineDash([]);
        }

        function drawMetroStations(ctx, pts, names) {
            ctx.fillStyle = '#2d3436';
            ctx.font = '12px sans-serif';
            pts.forEach(([x, y], i) => {
                ctx.beginPath();
                ctx.fillStyle = '#fff';
                ctx.strokeStyle = '#2d3436';
                ctx.lineWidth = 1.5;
                ctx.arc(x, y, 4, 0, Math.PI * 2);
                ctx.fill();
                ctx.stroke();
                ctx.fillStyle = '#2d3436';
                ctx.fillText(names[i], x + 6, y - 6);
            });
        }

        function focusOn(fromName, toName) {
            renderTrack();
            // ÁÆÄÊòìÈ´ò‰∫ÆÔºöÂÜçÊ¨°ÁªòÂà∂ËØ•ÊÆµ‰∏∫Á∫¢Ëâ≤Á≤óÁ∫ø
            const canvas = document.getElementById('trackCanvas');
            const ctx = canvas.getContext('2d');
            const cssW = canvas.clientWidth;
            const cssH = canvas.clientHeight;
            const ratio = window.devicePixelRatio || 1;
            ctx.save();
            ctx.scale(1 / ratio, 1 / ratio); // ÂèñÊ∂àÂÖàÂâçscaleÂΩ±Âìç
            ctx.scale(ratio, ratio);
            const from = placeCoords[fromName];
            const to = placeCoords[toName];
            const path = [from, to];
            const proj = project(path, cssW, cssH);
            ctx.strokeStyle = '#e74c3c';
            ctx.lineWidth = 5;
            ctx.beginPath();
            ctx.moveTo(proj[0][0], proj[0][1]);
            ctx.lineTo(proj[1][0], proj[1][1]);
            ctx.stroke();
            ctx.restore();
        }

        // ÁîªÁÆ≠Â§¥‰∏éÊ†áÁ≠æÔºàÊñ∞ËÆæËÆ°ÔºöÊõ¥Â∞èÁöÑÁôΩËâ≤ÁÆ≠Â§¥Ôºâ
        function drawArrow(ctx, [x1, y1], [x2, y2], color) {
            const t = 0.7; // ÁÆ≠Â§¥‰ΩçÁΩÆË∞ÉÊï¥
            const x = x1 + (x2 - x1) * t;
            const y = y1 + (y2 - y1) * t;
            const ang = Math.atan2(y2 - y1, x2 - x1);
            const size = 4; // Êõ¥Â∞èÁöÑÁÆ≠Â§¥
            ctx.fillStyle = color;
            ctx.beginPath();
            ctx.moveTo(x, y);
            ctx.lineTo(x - size * Math.cos(ang - Math.PI / 6), y - size * Math.sin(ang - Math.PI / 6));
            ctx.lineTo(x - size * Math.cos(ang + Math.PI / 6), y - size * Math.sin(ang + Math.PI / 6));
            ctx.closePath();
            ctx.fill();
        }

        function roundRect(ctx, x, y, w, h, r) {
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.arcTo(x + w, y, x + w, y + h, r);
            ctx.arcTo(x + w, y + h, x, y + h, r);
            ctx.arcTo(x, y + h, x, y, r);
            ctx.arcTo(x, y, x + w, y, r);
            ctx.closePath();
        }

        function drawLabel(ctx, cx, cy, top, bottom) {
            const w = 92, h = bottom ? 32 : 18;
            const x = cx - w / 2, y = cy - h / 2;
            ctx.save();
            ctx.shadowColor = 'rgba(0,0,0,0.25)';
            ctx.shadowBlur = 6;
            ctx.shadowOffsetY = 2;
            ctx.fillStyle = 'rgba(17,24,39,0.85)';
            roundRect(ctx, x, y, w, h, 8);
            ctx.fill();
            ctx.shadowBlur = 0; ctx.shadowOffsetY = 0;
            ctx.fillStyle = '#fff';
            ctx.font = '12px sans-serif';
            ctx.fillText(top, x + 10, y + 12);
            if (bottom) ctx.fillText(bottom, x + 10, y + 26);
            ctx.restore();
        }

        function drawSmoothPath(ctx, pts) {
            ctx.beginPath();
            for (let i = 0; i < pts.length; i++) {
                const [x, y] = pts[i];
                if (i === 0) ctx.moveTo(x, y);
                else {
                    const [px, py] = pts[i - 1];
                    const cx = (px + x) / 2; const cy = (py + y) / 2;
                    ctx.quadraticCurveTo(px, py, cx, cy);
                }
            }
            const [lx, ly] = pts[pts.length - 1];
            ctx.lineTo(lx, ly);
            ctx.stroke();
        }

        // ÂàáÊç¢È´òÁ≤æÂú∞ÂΩ¢ÂõæÔºàLeaflet + OpenTopoMapÔºâ
        let leafletInited = false;
        function toggleTopoMap() {
            const ele = document.getElementById('leafletMap');
            const isHidden = ele.style.display === 'none' || ele.style.display === '';
            if (isHidden) {
                ele.style.display = 'block';
                if (!leafletInited) initLeaflet();
            } else {
                ele.style.display = 'none';
            }
        }

        function initLeaflet() {
            leafletInited = true;
            const loadScript = (src) => new Promise((res, rej) => { const s = document.createElement('script'); s.src = src; s.onload = res; s.onerror = rej; document.body.appendChild(s); });
            const loadLeaflet = () => loadScript('https://unpkg.com/leaflet@1.9.4/dist/leaflet.js');

            (async () => {
                await loadLeaflet();
                const map = L.map('leafletMap', { zoomControl: false }).setView([48.5, 124.0], 4);

                // Mapbox Áü¢ÈáèÂ∫ïÂõæÔºàÂèØÈÄâÔºâ
                const token = window.MAPBOX_TOKEN || localStorage.getItem('MAPBOX_TOKEN') || '';
                if (token) {
                    try {
                        await loadScript('https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js');
                        await loadScript('https://unpkg.com/mapbox-gl-leaflet/leaflet-mapbox-gl.js');
                        L.mapboxGL({
                            accessToken: token,
                            style: 'mapbox://styles/mapbox/light-v11'
                        }).addTo(map);
                    } catch (e) {
                        L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                            maxZoom: 17,
                            attribution: '¬© OpenStreetMap, SRTM, OpenTopoMap'
                        }).addTo(map);
                    }
                } else {
                    L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                        maxZoom: 17,
                        attribution: '¬© OpenStreetMap, SRTM, OpenTopoMap'
                    }).addTo(map);
                }

                L.control.zoom({ position: 'bottomright' }).addTo(map);

                // ËΩªÈáèÁúÅÁïå/Â∏ÇÁïåÁ§∫ÊÑèÔºà‰∏úÂåó+Âëº‰º¶Ë¥ùÂ∞îËåÉÂõ¥ÔºåËøë‰ººÂ§ñÂåÖÁü©ÂΩ¢‰ª•Èôç‰Ωé‰ΩìÈáèÔºâ
                const boundaryGeoJSON = {
                    "type": "FeatureCollection",
                    "features": [
                        { "type": "Feature", "properties": { "name": "ÈªëÈæôÊ±ü" }, "geometry": { "type": "Polygon", "coordinates": [[[121.0, 43.2], [121.0, 53.6], [135.1, 53.6], [135.1, 43.2], [121.0, 43.2]]] } },
                        { "type": "Feature", "properties": { "name": "ÂêâÊûó" }, "geometry": { "type": "Polygon", "coordinates": [[[121.0, 41.0], [121.0, 46.5], [131.3, 46.5], [131.3, 41.0], [121.0, 41.0]]] } },
                        { "type": "Feature", "properties": { "name": "ÂÜÖËíôÂè§(‰∏úÈÉ®Á§∫ÊÑè)" }, "geometry": { "type": "Polygon", "coordinates": [[[110.0, 42.0], [110.0, 51.8], [123.5, 51.8], [123.5, 42.0], [110.0, 42.0]]] } }
                    ]
                };
                const boundaryStyle = { color: '#6c757d', weight: 1.2, opacity: 0.9, dashArray: '6,4', fill: false };
                const boundaryLayer = L.geoJSON(boundaryGeoJSON, { style: boundaryStyle, onEachFeature: (f, l) => l.bindTooltip(f.properties.name, { sticky: true }) }).addTo(map);

                // G331 POI
                const g331Pois = [
                    { name: 'ÈªëÈæôÊ±üÊ∫êÂ§¥(Ê¥õÂè§Ê≤≥)', lat: 53.45, lon: 123.36 },
                    { name: '‰πùÂç°', lat: 51.70, lon: 121.52 },
                    { name: 'ÈªëÂ±±Â§¥ÁïåÊ≤≥', lat: 49.33, lon: 117.44 },
                    { name: 'ÈæôÊ±üÁ¨¨‰∏ÄÊπæ', lat: 52.86, lon: 123.75 },
                    { name: 'ÂåóÁ∫¢Êùë', lat: 52.95, lon: 122.51 },
                    { name: 'Ëé´Êó•Ê†ºÂãíÊ≤≥ÊôØÂå∫', lat: 49.45, lon: 119.56 },
                    { name: 'Âëº‰º¶Êπñ(‰∏úÂ≤∏)', lat: 48.83, lon: 117.48 }
                ];
                const poiLayer = L.featureGroup().addTo(map);
                g331Pois.forEach(p => L.circleMarker([p.lat, p.lon], { radius: 6, color: '#f59e0b', fillColor: '#f59e0b', fillOpacity: 0.95 }).bindPopup(`<b>${p.name}</b>`).addTo(poiLayer));

                // ÊëÑÂΩ±ÁÇπ‰Ωç‰∏éË°•ÁªôÁÇπ
                const photoSpots = [
                    { name: 'ÈæôÊ±üÁ¨¨‰∏ÄÊπæËßÇÊôØÂè∞', lat: 52.86, lon: 123.75 },
                    { name: 'ÂåóÊûÅÊùëÁôΩÊ°¶ÊûóÊëÑÂΩ±ÁÇπ', lat: 53.48, lon: 122.35 },
                    { name: 'Ëé´Êó•Ê†ºÂãíÊ≤≥Êó•ËêΩÊú∫‰Ωç', lat: 49.47, lon: 119.56 },
                    { name: 'ÈªëÂ±±Â§¥Êó•ËêΩÂù°', lat: 49.33, lon: 117.44 }
                ];
                const supplySpots = [
                    { name: 'Â°îÊ≤≥Âä†Ê≤πÁ´ô', lat: 52.33, lon: 124.72 },
                    { name: 'Ê†πÊ≤≥Âä†Ê≤πÁ´ô', lat: 50.78, lon: 121.52 },
                    { name: 'È¢ùÂ∞îÂè§Á∫≥Âä†Ê≤πÁ´ô', lat: 50.24, lon: 120.18 },
                    { name: 'ÈªëÊ≤≥Â∏ÇÂå∫Â§ßÂûãË∂ÖÂ∏Ç', lat: 50.25, lon: 127.49 }
                ];
                const photoLayer = L.featureGroup().addTo(map);
                const supplyLayer = L.featureGroup().addTo(map);
                const camIcon = (txt) => L.divIcon({ className: 'photo-ico', html: `<div style="background:#db2777;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;box-shadow:0 0 0 2px #fff;">üì∑</div>` });
                const oilIcon = (txt) => L.divIcon({ className: 'fuel-ico', html: `<div style="background:#0ea5e9;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;box-shadow:0 0 0 2px #fff;">‚õΩ</div>` });
                photoSpots.forEach(p => L.marker([p.lat, p.lon], { icon: camIcon() }).bindPopup(`<b>${p.name}</b>`).addTo(photoLayer));
                supplySpots.forEach(p => L.marker([p.lat, p.lon], { icon: oilIcon() }).bindPopup(`<b>${p.name}</b>`).addTo(supplyLayer));

                // Ë°åÁ®ã‰∏ªÁ∫øÔºàÂàÜÁúÅÈÖçËâ≤ + ÁÆ≠Â§¥ + ÊÆµË∑ùÊ†áÁ≠æÔºâ
                const latlngs = trackCities.map(n => { const [lon, lat] = placeCoords[n]; return [lat, lon]; });
                const provinceOfCity = {
                    'ÈïøÊò•': 'ÂêâÊûó', 'ÈïøÁôΩÂ±±': 'ÂêâÊûó', 'Áè≤Êò•': 'ÂêâÊûó',
                    'ËôéÊûó': 'ÈªëÈæôÊ±ü', 'È•∂Ê≤≥': 'ÈªëÈæôÊ±ü', 'ÊäöËøú': 'ÈªëÈæôÊ±ü', 'ÂêåÊ±ü': 'ÈªëÈæôÊ±ü', 'ÈªëÊ≤≥': 'ÈªëÈæôÊ±ü', '‰∫îÂ§ßËøûÊ±†': 'ÈªëÈæôÊ±ü', 'Êº†Ê≤≥': 'ÈªëÈæôÊ±ü',
                    'Ê†πÊ≤≥': 'ÂÜÖËíôÂè§', 'È¢ùÂ∞îÂè§Á∫≥': 'ÂÜÖËíôÂè§', 'Êµ∑ÊãâÂ∞î': 'ÂÜÖËíôÂè§', 'ÈòøÂ∞îÂ±±': 'ÂÜÖËíôÂè§'
                };
                // È¢úËâ≤ÂØπÊØîÂä†Âº∫ÔºöÂêâÊûó(Á¥´)ÔºõÈªëÈæôÊ±ü(Ëìù)ÔºõÂÜÖËíôÂè§(Ê©ò)
                const provinceColor = { 'ÂêâÊûó': '#8b5cf6', 'ÈªëÈæôÊ±ü': '#0ea5e9', 'ÂÜÖËíôÂè§': '#f97316' };
                const segGroup = L.featureGroup().addTo(map);
                let seg = [latlngs[0]]; let segProv = provinceOfCity[trackCities[0]];
                const segments = [];
                for (let i = 1; i < latlngs.length; i++) {
                    const prov = provinceOfCity[trackCities[i]] || segProv;
                    if (prov !== segProv) { segments.push({ prov: segProv, pts: seg }); seg = [latlngs[i - 1], latlngs[i]]; segProv = prov; }
                    else seg.push(latlngs[i]);
                }
                segments.push({ prov: segProv, pts: seg });
                const totalBounds = [];
                segments.forEach(s => {
                    const color = provinceColor[s.prov] || '#0984e3';
                    // ÁôΩËâ≤ÊèèËæπÂ¢ûÂº∫‰∏éÂ∫ïÂõæÁöÑÂØπÊØî
                    L.polyline(s.pts, { color: '#ffffff', weight: 6, opacity: 0.85 }).addTo(segGroup);
                    const line = L.polyline(s.pts, { color, weight: 3, opacity: 1 }).addTo(segGroup);
                    if (L.polylineDecorator) {
                        L.polylineDecorator(line, { patterns: [{ offset: '5%', repeat: '10%', symbol: L.Symbol.arrowHead({ pixelSize: 8, pathOptions: { color, weight: 1 } }) }] }).addTo(segGroup);
                    }
                    totalBounds.push(line.getBounds());
                    const meters = (function len(arr) { let d = 0; for (let i = 1; i < arr.length; i++) { d += haversine([arr[i - 1][1], arr[i - 1][0]], [arr[i][1], arr[i][0]]) * 1000; } return d; })(s.pts);
                    const mid = s.pts[Math.floor(s.pts.length / 2)];
                    L.marker(mid, { icon: L.divIcon({ className: 'seg-label', html: `<div style="background:rgba(0,0,0,.6);color:#fff;padding:2px 6px;border-radius:10px;font-size:12px;">${(meters / 1000).toFixed(0)} km</div>` }) }).addTo(segGroup);
                });
                const bounds = totalBounds.reduce((b, cur) => b ? b.extend(cur) : cur, null);
                if (bounds) map.fitBounds(bounds, { padding: [20, 20] });

                // ÂüéÂ∏ÇÁÇπÂèäÂõæÊñá
                trackCities.forEach(name => {
                    const [lon, lat] = placeCoords[name];
                    const m = L.circleMarker([lat, lon], { radius: 5, color: '#2563eb' }).addTo(map);
                    const imgs = (poiBest[name]?.imgs) || [];
                    const best = poiBest[name]?.best || '';
                    m.bindPopup(`<b>${name}</b><br/>${best}<br/>${imgs[0] ? `<img src="${imgs[0]}" style="width:220px;height:120px;object-fit:cover;margin-top:6px;border-radius:6px;"/>` : ''}`);
                });

                // ÁúÅ/Â∏ÇÁúüÂÆûËæπÁïåÔºàÈòøÈáå‰∫ëDataVÔºâÔºåÈöèÁº©ÊîæÊòæÁ§∫
                const provLayer = L.featureGroup().addTo(map);
                const cityLayer = L.featureGroup().addTo(map);
                async function loadBoundaries(codes, layer) {
                    for (const code of codes) {
                        try {
                            const resp = await fetch(`https://geo.datav.aliyun.com/areas_v3/bound/${code}_full.json`);
                            const gj = await resp.json();
                            L.geoJSON(gj, { style: { color: '#6b7280', weight: 1, fill: false } }).addTo(layer);
                        } catch (e) { /* ÂøΩÁï• */ }
                    }
                }
                const provinceCodes = ['220000', '230000', '150000'];
                const cityCodes = ['231100', '232700', '230700', '150700', '152200'];
                loadBoundaries(provinceCodes, provLayer);
                const toggleCity = () => { const z = map.getZoom(); cityLayer.clearLayers(); if (z >= 6) { loadBoundaries(cityCodes, cityLayer); } };
                map.on('zoomend', toggleCity); toggleCity();

                L.control.layers(null, { 'ËæπÁïå(Á§∫ÊÑè)': boundaryLayer, 'ÁúÅÁïå(ÁúüÂÆû)': provLayer, 'Â∏ÇÁïå(ÁúüÂÆû)': cityLayer, 'ÊëÑÂΩ±ÁÇπ‰Ωç': photoLayer, 'Ë°•ÁªôÁÇπ/Âä†Ê≤πÁ´ô': supplyLayer, 'G331 Á≤æÂçéÁÇπ': poiLayer, 'Ë°åÁ®ã‰∏ªÁ∫ø(ÂàÜÁúÅ)': segGroup }, { position: 'topright', collapsed: true }).addTo(map);
            })();
        }

        // ÂØºÂá∫ GeoJSON / GPX
        function exportGeoJSON() {
            const coords = trackCities.map(n => { const [lon, lat] = placeCoords[n]; return [lon, lat]; });
            const gj = { type: 'FeatureCollection', features: [{ type: 'Feature', properties: { name: 'NE-Loop' }, geometry: { type: 'LineString', coordinates: coords } }] };
            const blob = new Blob([JSON.stringify(gj)], { type: 'application/json' });
            const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'route.geojson'; a.click(); URL.revokeObjectURL(a.href);
        }
        function exportGPX() {
            const pts = trackCities.map(n => { const [lon, lat] = placeCoords[n]; return { lon, lat }; });
            const gpx = `<?xml version="1.0" encoding="UTF-8"?>\n<gpx version="1.1" creator="travel" xmlns="http://www.topografix.com/GPX/1/1"><trk><name>NE-Loop</name><trkseg>${pts.map(p => `<trkpt lat=\"${p.lat}\" lon=\"${p.lon}\"></trkpt>`).join('')}</trkseg></trk></gpx>`;
            const blob = new Blob([gpx], { type: 'application/gpx+xml' });
            const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'route.gpx'; a.click(); URL.revokeObjectURL(a.href);
        }

        // ËΩªÈáèË∑ØÁ∫øËßÑÂàíÂõæÔºàCanvasÔºâÔºåÊèêÂçáÊµÅÁïÖÂ∫¶
        let routeMapInited = false;
        function toggleRouteMap() {
            const ele = document.getElementById('routeMap');
            const hidden = ele.style.display === 'none' || ele.style.display === '';
            ele.style.display = hidden ? 'block' : 'none';
            if (hidden && !routeMapInited) {
                routeMapInited = true;
                const c = document.createElement('canvas');
                c.style.width = '100%';
                c.style.height = '650px';
                c.width = 1200; c.height = 650;
                ele.appendChild(c);
                drawLightRoute(c);
            }
        }

        function drawLightRoute(canvas) {
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#f8fafc';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = '#e5e7eb';
            for (let i = 60; i < canvas.width; i += 60) { ctx.beginPath(); ctx.moveTo(i, 0); ctx.lineTo(i, canvas.height); ctx.stroke(); }
            for (let j = 60; j < canvas.height; j += 60) { ctx.beginPath(); ctx.moveTo(0, j); ctx.lineTo(canvas.width, j); ctx.stroke(); }
            const points = trackCities.map(n => placeCoords[n]);
            const proj = project(points, canvas.width, canvas.height, 100);
            // ÂèåÁ∫øÊèèËæπ
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 7;
            ctx.lineJoin = 'round';
            ctx.lineCap = 'round';
            ctx.beginPath();
            proj.forEach(([x, y], i) => { if (i === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y); });
            ctx.stroke();
            ctx.strokeStyle = '#16a34a';
            ctx.lineWidth = 3.5;
            ctx.beginPath();
            proj.forEach(([x, y], i) => { if (i === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y); });
            ctx.stroke();
            ctx.fillStyle = '#111827';
            ctx.font = '14px sans-serif';
            proj.forEach(([x, y], i) => {
                ctx.fillStyle = '#ffffff'; ctx.beginPath(); ctx.arc(x, y, 6, 0, Math.PI * 2); ctx.fill();
                ctx.fillStyle = '#2563eb'; ctx.beginPath(); ctx.arc(x, y, 4, 0, Math.PI * 2); ctx.fill();
                ctx.fillStyle = '#111827'; ctx.fillText(trackCities[i], x + 6, y - 6);
            });
        }

        // ÁêÉÈù¢Áõ¥Á∫øË∑ùÁ¶ªÔºàÂçÉÁ±≥Ôºâ
        function haversine([lon1, lat1], [lon2, lat2]) {
            const toRad = d => d * Math.PI / 180;
            const R = 6371; // km
            const dLat = toRad(lat2 - lat1);
            const dLon = toRad(lon2 - lon1);
            const a = Math.sin(dLat / 2) ** 2 + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;
            const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
            return R * c;
        }

        // ËΩ®ËøπÊÇ¨ÊµÆÊèêÁ§∫ÔºàÂüéÂ∏Ç/Á∫øÊÆµÔºâ
        (function attachTrackHover() {
            const canvas = document.getElementById('trackCanvas');
            const tip = document.getElementById('trackTooltip');
            const tTitle = document.getElementById('tooltipTitle');
            const tImg = document.getElementById('tooltipImg');
            const tMeta = document.getElementById('tooltipMeta');
            // Êí≠Êîæ HUD Â∑≤ÁßªÈô§

            canvas.addEventListener('mousemove', (e) => {
                if (!window.__trackPoints) return;
                const rect = canvas.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                let shown = false;

                // ÂëΩ‰∏≠ÂüéÂ∏ÇÁÇπ
                for (const p of window.__trackPoints) {
                    const dx = p.x - x, dy = p.y - y;
                    if (dx * dx + dy * dy < 10 * 10) {
                        const imgs = (poiBest[p.name]?.imgs) || [];
                        tTitle.textContent = `${p.name}ÔΩúÊé®ËçêÔºö${poiBest[p.name]?.best || ''}`;
                        if (imgs[0]) tImg.src = imgs[0];
                        tMeta.textContent = 'ÊèêÁ§∫ÔºöÁßªÂà∞Á∫øÊÆµ‰∏≠ÁÇπÊü•ÁúãÁõ¥Á∫øË∑ùÁ¶ª‰∏éËá™È©æÊó∂Èïø';
                        tip.style.left = `${x + 12}px`;
                        tip.style.top = `${y + 12}px`;
                        tip.style.display = 'block';
                        shown = true; break;
                    }
                }

                // ÂëΩ‰∏≠Á∫øÊÆµ‰∏≠ÁÇπÁü©ÂΩ¢Âå∫Âüü
                if (!shown && window.__trackLegs) {
                    for (const leg of window.__trackLegs) {
                        if (Math.abs(leg.mx - x) < 60 && Math.abs(leg.my - y) < 24) {
                            const key = `${leg.a}-${leg.b}`;
                            const dayIdx = legToDay[key];
                            const day = tripDays.find(d => d.d === dayIdx);
                            const directKm = Math.round(haversine(placeCoords[leg.a], placeCoords[leg.b]));
                            tTitle.textContent = `${leg.a} ‚Üí ${leg.b}`;
                            tImg.src = (poiBest[leg.b]?.imgs?.[0]) || (poiBest[leg.a]?.imgs?.[0]) || '';
                            tMeta.textContent = `Áõ¥Á∫øÔºö${directKm}kmÔΩúËá™È©æÔºö${day ? day.distance + 'km / ' + day.hours + 'h' : '‚Äî'}`;
                            tip.style.left = `${x + 12}px`;
                            tip.style.top = `${y + 12}px`;
                            tip.style.display = 'block';
                            shown = true; break;
                        }
                    }
                }

                if (!shown) { tip.style.display = 'none'; }
            });

            canvas.addEventListener('mouseleave', () => { tip.style.display = 'none'; });
        })();

        // Êí≠Êîæ/Êó∂Èó¥ËΩ¥Â∑≤ÁßªÈô§

        // È´òÂæ∑Âú∞ÂõæË∑ØÁ∫øÊòæÁ§∫ÂäüËÉΩ
        function openAmapRoute() {
            // ÊâìÂºÄÈ´òÂæ∑Âú∞ÂõæÂàÜ‰∫´ÈìæÊé•
            const amapUrl = "https://nav1.autonavi.com/activity/2020CommonLanding5/index.html?id=123&local=1&randomSchemaParam=1755086007419&schema=amapuri%3A%2F%2FworkInAmap%2Fbackflow%3Fsource%3D1%26isMuilLayer%3Dundefined%26resourceType%3D2%26shareId%3Dbed55X12An00BELynqg%26from%3Dshare%26clearStack%3D1&share_from=work_in_amap_WIAIndex&share_from_type=AJX&share_type=url&share_lastClickSpm=amap.29189413.screenshot_share.share_entrance&share_bid=nihdn1lv0pqffccfj7662e76hek9cgeib0d630b";
            window.open(amapUrl, '_blank');
        }

        function showAmapRoute() {
            const container = document.getElementById('amapContainer');
            container.innerHTML = `
                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: linear-gradient(135deg, #e8f4f8 0%, #f0f8f0 100%); display: flex; align-items: center; justify-content: center; color: #636e72;">
                    <div style="text-align: center; max-width: 80%;">
                        <div style="font-size: 24px; margin-bottom: 15px;">üó∫Ô∏è</div>
                        <div style="font-size: 18px; font-weight: 600; margin-bottom: 10px; color: #2d3436;">G331ËæπÂ¢ÉÂÖ¨Ë∑ØËΩ®ËøπÂõæ</div>
                        <div style="font-size: 14px; margin-bottom: 15px;">ÈïøÊò• ‚Üí ÈïøÁôΩÂ±± ‚Üí Áè≤Êò• ‚Üí ËôéÊûó ‚Üí È•∂Ê≤≥ ‚Üí ÊäöËøú ‚Üí ÂêåÊ±ü ‚Üí ÈªëÊ≤≥ ‚Üí ‰∫îÂ§ßËøûÊ±† ‚Üí Êº†Ê≤≥ ‚Üí Ê†πÊ≤≥ ‚Üí È¢ùÂ∞îÂè§Á∫≥ ‚Üí Êµ∑ÊãâÂ∞î ‚Üí ÈòøÂ∞îÂ±±</div>
                        <div style="display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
                            <a href="https://uri.amap.com/navigation?from=125.3245,43.8868,ÈïøÊò•&to=128.08,42.05,ÈïøÁôΩÂ±±&mode=car&policy=1" target="_blank" class="cta-btn" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); text-decoration: none; display: inline-block;">
                                üöó Êü•ÁúãÂÆåÊï¥Ë∑ØÁ∫ø
                            </a>
                            <button onclick="resetAmapContainer()" class="cta-btn secondary">
                                ‚Ü©Ô∏è ËøîÂõû
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function resetAmapContainer() {
            const container = document.getElementById('amapContainer');
            container.innerHTML = `
                <img src="images/WX20250813-202731.png" alt="G331ËæπÂ¢ÉÂÖ¨Ë∑ØËΩ®ËøπÂõæ" 
                    style="width: 100%; height: 100%; object-fit: contain; border-radius: 8px; background: #f8f9fa;">
                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.1); display: flex; align-items: center; justify-content: center; opacity: 0; transition: opacity 0.3s ease;"
                    onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='0'">
                    <div style="text-align: center; color: white; background: rgba(0,0,0,0.7); padding: 15px; border-radius: 8px;">
                        <div style="font-size: 18px; margin-bottom: 5px;">üó∫Ô∏è</div>
                        <div style="font-size: 14px;">ÁÇπÂáªÊü•ÁúãÂÆåÊï¥È´òÂæ∑Âú∞ÂõæË∑ØÁ∫ø</div>
                    </div>
                </div>
            `;
        }

        // Â§©Ê∞îÊü•ËØ¢ÂäüËÉΩ
        async function queryWeather(city) {
            const resultDiv = document.getElementById('weatherResult');
            const cityDiv = document.getElementById('weatherCity');
            const infoDiv = document.getElementById('weatherInfo');

            cityDiv.textContent = `${city}Â§©Ê∞î‰ø°ÊÅØ`;
            infoDiv.innerHTML = '<p>Ê≠£Âú®Êü•ËØ¢Â§©Ê∞î‰ø°ÊÅØ...</p>';
            resultDiv.style.display = 'block';

            try {
                // Ê®°ÊãüÂ§©Ê∞îÊï∞ÊçÆÔºàÂÆûÈôÖÈ°πÁõÆ‰∏≠ÂèØÊé•ÂÖ•ÁúüÂÆûÂ§©Ê∞îAPIÔºâ
                const weatherData = {
                    'ÈïøÊò•': { temp: '15¬∞C', weather: 'Êô¥', wind: '‰∏úÂåóÈ£é3Á∫ß', humidity: '65%' },
                    'ÈïøÁôΩÂ±±': { temp: '8¬∞C', weather: 'Â§ö‰∫ë', wind: 'Ë•øÂåóÈ£é4Á∫ß', humidity: '75%' },
                    'Áè≤Êò•': { temp: '12¬∞C', weather: 'Êô¥', wind: '‰∏úÈ£é2Á∫ß', humidity: '60%' },
                    'ÈªëÊ≤≥': { temp: '6¬∞C', weather: 'Êô¥', wind: 'Ë•øÂåóÈ£é5Á∫ß', humidity: '50%' },
                    '‰∫îÂ§ßËøûÊ±†': { temp: '7¬∞C', weather: 'Â§ö‰∫ë', wind: 'Ë•øÈ£é3Á∫ß', humidity: '70%' },
                    'Êº†Ê≤≥': { temp: '2¬∞C', weather: 'Êô¥', wind: 'ÂåóÈ£é6Á∫ß', humidity: '45%' },
                    'Ê†πÊ≤≥': { temp: '4¬∞C', weather: 'Â§ö‰∫ë', wind: 'Ë•øÂåóÈ£é4Á∫ß', humidity: '60%' },
                    'È¢ùÂ∞îÂè§Á∫≥': { temp: '6¬∞C', weather: 'Êô¥', wind: 'Ë•øÈ£é3Á∫ß', humidity: '55%' },
                    'Êµ∑ÊãâÂ∞î': { temp: '8¬∞C', weather: 'Êô¥', wind: 'Ë•øÈ£é5Á∫ß', humidity: '55%' },
                    'ÈòøÂ∞îÂ±±': { temp: '5¬∞C', weather: 'Â§ö‰∫ë', wind: 'Ë•øÂåóÈ£é4Á∫ß', humidity: '65%' }
                };

                const data = weatherData[city] || { temp: 'N/A', weather: 'N/A', wind: 'N/A', humidity: 'N/A' };

                infoDiv.innerHTML = `
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                        <div><strong>Ê∏©Â∫¶Ôºö</strong>${data.temp}</div>
                        <div><strong>Â§©Ê∞îÔºö</strong>${data.weather}</div>
                        <div><strong>È£éÂäõÔºö</strong>${data.wind}</div>
                        <div><strong>ÊπøÂ∫¶Ôºö</strong>${data.humidity}</div>
                    </div>
                    <p style="margin-top: 10px; font-size: 0.9rem; color: #74b9ff;">
                        üí° ÊèêÁ§∫Ôºö9ÊúàÂ∫ï-10ÊúàÂàù‰∏úÂåóÂú∞Âå∫ÊòºÂ§úÊ∏©Â∑ÆÂ§ßÔºåÂª∫ËÆÆÊê∫Â∏¶‰øùÊöñË°£Áâ©
                    </p>
                `;
            } catch (error) {
                infoDiv.innerHTML = '<p style="color: #e74c3c;">Â§©Ê∞îÊü•ËØ¢Â§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï</p>';
            }
        }

        // Ê∑ªÂä†È°µÈù¢ÊªöÂä®Âä®Áîª
        document.addEventListener('DOMContentLoaded', function () {
            const cards = document.querySelectorAll('.attraction-card');
            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            });

            window.addEventListener('scroll', function () {
                cards.forEach(card => {
                    const cardTop = card.getBoundingClientRect().top;
                    const cardVisible = 150;

                    if (cardTop < window.innerHeight - cardVisible) {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }
                });
            });

            renderDayDetails();
            renderTrack();
        });
    </script>
</body>

</html>